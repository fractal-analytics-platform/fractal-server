
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../reference/zip_tools/">
      
      
        <link rel="next" href="../openapi/">
      
      
        
      
      
      <link rel="icon" href="https://raw.githubusercontent.com/fractal-analytics-platform/fractal-logos/refs/heads/main/common/fractal_favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Changelog - Fractal Server</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2200-unreleased" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Fractal Server" class="md-header__button md-logo" aria-label="Fractal Server" data-md-component="logo">
      
  <img src="https://raw.githubusercontent.com/fractal-analytics-platform/fractal-logos/refs/heads/main/common/fractal_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Fractal Server
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Changelog
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="green"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/fractal-analytics-platform/fractal-server" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    fractal-server
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Fractal Server" class="md-nav__button md-logo" aria-label="Fractal Server" data-md-component="logo">
      
  <img src="https://raw.githubusercontent.com/fractal-analytics-platform/fractal-logos/refs/heads/main/common/fractal_logo.png" alt="logo">

    </a>
    Fractal Server
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/fractal-analytics-platform/fractal-server" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    fractal-server
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home page
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../install_and_deploy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Install and deploy
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli_reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CLI reference
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../internals/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Internals
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Internals
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../internals/users/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Users
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../internals/integrations/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Integrations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../internals/integrations/runners/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Job runners
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../internals/integrations/tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Task collection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../internals/database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../internals/logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Logging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../internals/version_upgrades/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Version upgrades
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Version upgrades
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../internals/version_upgrades/upgrade_1_2_5_to_1_3_0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Upgrade from 1.2.5 to 1.3.0
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../internals/version_upgrades/upgrade_2_16_6_to_2_17_0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Upgrade from 2.16 to 2.17.0
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Code reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Code reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/app/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    app
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    app
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/db/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    db
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/app/models/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    models
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_2" id="__nav_6_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    models
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/models/linkusergroup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    linkusergroup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/models/linkuserproject/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    linkuserproject
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/models/security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_2_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/app/models/v2/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    v2
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_2_4" id="__nav_6_1_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_1_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    v2
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/models/v2/accounting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    accounting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/models/v2/dataset/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dataset
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/models/v2/history/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    history
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/models/v2/job/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    job
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/models/v2/profile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    profile
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/models/v2/project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    project
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/models/v2/resource/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    resource
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/models/v2/task/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/models/v2/task_group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task_group
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/models/v2/workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    workflow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/models/v2/workflowtask/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    workflowtask
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/app/routes/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    routes
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_3" id="__nav_6_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    routes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_3_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/app/routes/admin/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    admin
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_3_1" id="__nav_6_1_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_1_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    admin
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_3_1_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/app/routes/admin/v2/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    v2
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_3_1_1" id="__nav_6_1_3_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_6_1_3_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_3_1_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    v2
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/admin/v2/_aux_functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _aux_functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/admin/v2/accounting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    accounting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/admin/v2/impersonate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    impersonate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/admin/v2/job/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    job
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/admin/v2/profile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    profile
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/admin/v2/resource/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    resource
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/admin/v2/sharing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    sharing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/admin/v2/task/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/admin/v2/task_group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task_group
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/admin/v2/task_group_lifecycle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task_group_lifecycle
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_3_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/app/routes/api/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    api
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_3_2" id="__nav_6_1_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_1_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    api
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/alive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    alive
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/settings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_3_2_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/app/routes/api/v2/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    v2
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_3_2_3" id="__nav_6_1_3_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_6_1_3_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    v2
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/_aux_functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _aux_functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/_aux_functions_history/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _aux_functions_history
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/_aux_functions_sharing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _aux_functions_sharing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/_aux_functions_task_lifecycle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _aux_functions_task_lifecycle
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/_aux_functions_task_version_update/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _aux_functions_task_version_update
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/_aux_functions_tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _aux_functions_tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/_aux_task_group_disambiguation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _aux_task_group_disambiguation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/dataset/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dataset
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/history/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    history
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/images/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    images
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/job/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    job
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/pre_submission_checks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    pre_submission_checks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    project
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/sharing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    sharing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/submit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    submit
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/task/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/task_collection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task_collection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/task_collection_custom/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task_collection_custom
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/task_collection_pixi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task_collection_pixi
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/task_group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task_group
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/task_group_lifecycle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task_group_lifecycle
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/task_version_update/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task_version_update
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    workflow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/workflow_import/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    workflow_import
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/api/v2/workflowtask/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    workflowtask
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_3_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/app/routes/auth/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    auth
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_3_3" id="__nav_6_1_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_1_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    auth
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/auth/_aux_auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _aux_auth
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/auth/current_user/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    current_user
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/auth/group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    group
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/auth/login/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    login
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/auth/oauth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    oauth
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/auth/register/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    register
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/auth/router/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    router
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/auth/users/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    users
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/auth/viewer_paths/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    viewer_paths
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_3_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/app/routes/aux/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    aux
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_3_4" id="__nav_6_1_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_1_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    aux
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/aux/_job/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _job
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/aux/_runner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _runner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/aux/_versions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _versions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/aux/validate_user_profile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    validate_user_profile
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/routes/pagination/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    pagination
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/app/schemas/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    schemas
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_4" id="__nav_6_1_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    schemas
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/user/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    user
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/user_group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    user_group
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_4_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/app/schemas/v2/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    v2
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_4_3" id="__nav_6_1_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_1_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    v2
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/v2/accounting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    accounting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/v2/dataset/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dataset
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/v2/dumps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dumps
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/v2/history/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    history
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/v2/job/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    job
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/v2/manifest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    manifest
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/v2/profile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    profile
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/v2/project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    project
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/v2/resource/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    resource
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/v2/sharing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    sharing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/v2/status_legacy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    status_legacy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/v2/task/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/v2/task_collection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task_collection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/v2/task_group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task_group
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/v2/workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    workflow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/schemas/v2/workflowtask/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    workflowtask
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/app/security/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    security
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_1_5" id="__nav_6_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/security/signup_email/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    signup_email
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/app/shutdown/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    shutdown
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/config/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    config
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    config
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/config/_data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/config/_database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _database
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/config/_email/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _email
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/config/_main/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _main
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/config/_oauth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _oauth
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/config/_settings_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _settings_config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    exceptions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/gunicorn_fractal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    gunicorn_fractal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/images/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    images
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    images
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/images/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/images/status_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    status_tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/images/tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/logger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    logger
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/main/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    main
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/runner/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    runner
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_8" id="__nav_6_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    runner
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    components
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_8_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/runner/config/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    config
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_8_2" id="__nav_6_8_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_8_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    config
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/config/_local/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _local
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/config/_slurm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _slurm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/config/slurm_mem_to_MB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    slurm_mem_to_MB
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    exceptions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_8_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/runner/executors/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    executors
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_8_4" id="__nav_6_8_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_8_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    executors
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/executors/base_runner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    base_runner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/executors/call_command_wrapper/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    call_command_wrapper
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_8_4_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/runner/executors/local/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    local
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_8_4_3" id="__nav_6_8_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_8_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_8_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    local
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/executors/local/get_local_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    get_local_config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/executors/local/runner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    runner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_8_4_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/runner/executors/slurm_common/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    slurm_common
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_8_4_4" id="__nav_6_8_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_8_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_8_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    slurm_common
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/executors/slurm_common/_batching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _batching
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/executors/slurm_common/_job_states/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _job_states
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/executors/slurm_common/base_slurm_runner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    base_slurm_runner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/executors/slurm_common/get_slurm_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    get_slurm_config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/executors/slurm_common/remote/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    remote
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/executors/slurm_common/slurm_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    slurm_config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/executors/slurm_common/slurm_job_task_models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    slurm_job_task_models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_8_4_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/runner/executors/slurm_ssh/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    slurm_ssh
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_8_4_5" id="__nav_6_8_4_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_8_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_8_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    slurm_ssh
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/executors/slurm_ssh/run_subprocess/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    run_subprocess
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/executors/slurm_ssh/runner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    runner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/executors/slurm_ssh/tar_commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    tar_commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_8_4_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/runner/executors/slurm_sudo/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    slurm_sudo
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_8_4_6" id="__nav_6_8_4_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_8_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_8_4_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    slurm_sudo
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/executors/slurm_sudo/_subprocess_run_as_user/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _subprocess_run_as_user
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/executors/slurm_sudo/runner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    runner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/filenames/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    filenames
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/set_start_and_last_task_index/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    set_start_and_last_task_index
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/task_files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task_files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_8_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/runner/v2/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    v2
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_8_8" id="__nav_6_8_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_8_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_8_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    v2
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/v2/_local/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _local
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/v2/_slurm_ssh/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _slurm_ssh
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/v2/_slurm_sudo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _slurm_sudo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/v2/db_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    db_tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/v2/deduplicate_list/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    deduplicate_list
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/v2/merge_outputs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    merge_outputs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/v2/runner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    runner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/v2/runner_functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    runner_functions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/v2/submit_workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    submit_workflow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/v2/task_interface/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    task_interface
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/runner/versions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    versions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/ssh/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    ssh
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_9" id="__nav_6_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    ssh
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/ssh/_fabric/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _fabric
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/string_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    string_tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/syringe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    syringe
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_12" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/tasks/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    tasks
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_12" id="__nav_6_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    tasks
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_12_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/tasks/config/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    config
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_12_1" id="__nav_6_12_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_12_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_12_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    config
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/config/_pixi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _pixi
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/config/_python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_12_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/tasks/v2/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    v2
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_12_3" id="__nav_6_12_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_12_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_12_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    v2
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_12_3_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/tasks/v2/local/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    local
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_12_3_1" id="__nav_6_12_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_12_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_12_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    local
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/local/_utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/local/collect/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    collect
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/local/collect_pixi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    collect_pixi
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/local/deactivate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    deactivate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/local/deactivate_pixi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    deactivate_pixi
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/local/delete/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    delete
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/local/reactivate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    reactivate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/local/reactivate_pixi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    reactivate_pixi
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_12_3_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/tasks/v2/ssh/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    ssh
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_12_3_2" id="__nav_6_12_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_12_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_12_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    ssh
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/ssh/_pixi_slurm_ssh/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _pixi_slurm_ssh
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/ssh/_utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/ssh/collect/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    collect
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/ssh/collect_pixi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    collect_pixi
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/ssh/deactivate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    deactivate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/ssh/deactivate_pixi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    deactivate_pixi
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/ssh/delete/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    delete
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/ssh/reactivate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    reactivate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/ssh/reactivate_pixi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    reactivate_pixi
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/utils_background/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    utils_background
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/utils_database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    utils_database
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/utils_package_names/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    utils_package_names
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/utils_pixi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    utils_pixi
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/utils_python_interpreter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    utils_python_interpreter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/tasks/v2/utils_templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    utils_templates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_13" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/types/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    types
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_13" id="__nav_6_13_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    types
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_13_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/types/validators/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    validators
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_13_1" id="__nav_6_13_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_13_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_13_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    validators
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/validators/_common_validators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _common_validators
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/validators/_filter_validators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _filter_validators
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/validators/_workflow_task_arguments_validators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _workflow_task_arguments_validators
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/urls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    urls
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/zip_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    zip_tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../openapi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Web API
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<p><strong>Note</strong>: Numbers like (#1234) point to closed Pull Requests on the fractal-server repository.</p>
<h1 id="2200-unreleased">2.20.0 (unreleased)<a class="headerlink" href="#2200-unreleased" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Introduce version flexibility in workflow-import endpoint (#3154).</li>
</ul>
</li>
<li>Database:<ul>
<li>Enforce non-duplication constraints for <code>TaskGroupV2</code> and <code>TaskGroupActivityV2</code> via <code>unique</code> database checks (#3185).</li>
</ul>
</li>
<li>Application:<ul>
<li>Improve lifespan logging (#3201).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Mention package name/version in job logs (#3200)</li>
</ul>
</li>
<li>Documentation:<ul>
<li>Draft Fractal-runner specification (#3196).</li>
</ul>
</li>
</ul>
<h1 id="2194">2.19.4<a class="headerlink" href="#2194" title="Permanent link">&para;</a></h1>
<ul>
<li>SSH:<ul>
<li>Try to refresh SSH connection upon <code>paramiko.ssh_exception.SSHException</code> (#3189).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Bump <code>fastapi</code> to <code>0.129.*</code> (#3190).</li>
<li>Bump <code>sqlmodel</code> to <code>0.0.33</code> (#3190).</li>
</ul>
</li>
</ul>
<h1 id="2193">2.19.3<a class="headerlink" href="#2193" title="Permanent link">&para;</a></h1>
<ul>
<li>Task lifecycle:<ul>
<li>Expose <code>preamble</code> for pixi/SLURM task collection (#3182).</li>
</ul>
</li>
</ul>
<h1 id="2192">2.19.2<a class="headerlink" href="#2192" title="Permanent link">&para;</a></h1>
<ul>
<li>Task lifecycle:<ul>
<li>Support both <code>--mem</code> and <code>--mem-per-cpu</code> for pixi/SLURM task collection (#3180).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Also log workflowtask <code>alias</code> field, if present (#3179).</li>
</ul>
</li>
<li>API:<ul>
<li>Add regex validator to <code>Project</code> and <code>Dataset</code> schemas (#3175).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Bump <code>gunicorn</code> to v25 (#3174).</li>
<li>Bump <code>packaging</code> to v26 (#3178).</li>
</ul>
</li>
</ul>
<h1 id="2191">2.19.1<a class="headerlink" href="#2191" title="Permanent link">&para;</a></h1>
<ul>
<li>Runner:<ul>
<li>Expand <code>STDERR_IGNORE_PATTERNS</code> for SLURM errors with <code>srun: warning: can't run 1 processes on 8 nodes, setting nnodes to 1</code> (#3169).</li>
<li>Expose SLURM <code>nodes</code> parameter (#3171).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Bump documentation dependencies (#3172).</li>
</ul>
</li>
</ul>
<h1 id="2190">2.19.0<a class="headerlink" href="#2190" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Add <code>POST /admin/v2/linkuserproject/verify/</code> (#3130).</li>
<li>Include new <code>is_guest</code> field in users CRUD (#3130).</li>
<li>Return empty list of project-sharing invitations for <code>is_guest=True</code> users (#3130).</li>
<li>Rename <code>current_user_act_ver_prof</code> into <code>get_api_guest</code>, and add a more restrictive <code>get_api_user</code> dependency for non-read-only endpoints (#3130).</li>
<li>Make <code>UserManager.validate_password</code> fail if password is longer than 72 bytes (#3141).</li>
<li>Prevent guest users from self update (#3142).</li>
<li>Deprecate use of <code>TaskV2.source</code> in workflow imports and superuser-only task queries(#3147, #3148).</li>
<li>Improve definition of <em>latest version</em> in task import (#3153).</li>
<li>Remove <code>GET /project/{project_id}/status-legacy/</code> endpoint (#3160).</li>
</ul>
</li>
<li>Database:<ul>
<li>Drop <code>TaskV2.source</code> (#3147).</li>
<li>Add <code>UserOAuth.is_guest</code> boolean column and corresponding <code>CHECK</code> constraint (#3130).</li>
<li>Add <code>description</code> to workflow and <code>description</code> and <code>alias</code> to workflow task (#3156, #3164).</li>
<li>Drop <code>DatasetV2.history</code> (#3160).</li>
<li>Add <code>fractal_server_version</code> column to <code>JobV2</code> and <code>TaskGroupActivityV2</code> (#3161).</li>
</ul>
</li>
<li>Internal:<ul>
<li>Refactor modules for endpoints in <code>/api/</code> but not in <code>/api/v2/</code> (#3132).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Run some GitHub Actions when targeting <code>ihb-develop</code> branch (#3138).</li>
</ul>
</li>
<li>Documentation:<ul>
<li>Introduce <code>CONTRIBUTING.md</code> (#3157).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Bump <code>gunicorn</code> to v24 (#3158).</li>
<li>Remove <code>pre-commit</code> from project dependencies (#3157).</li>
</ul>
</li>
</ul>
<h1 id="2186">2.18.6<a class="headerlink" href="#2186" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Drop all redundant <code>db.close()</code> statements (#3118).</li>
<li>Expunge items before <code>setattr</code> to prevent <code>StaleDataError</code> (#3118).</li>
</ul>
</li>
<li>Database:<ul>
<li>Use <code>autoflush=True</code> also for sync db sessions (#3119).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Drop <code>mypy</code> dev dependency (#3123).</li>
<li>Drop support for Python 3.11 (#3129).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Implement some more <code>zizmor</code> recommendations (#3121, #3122, #3124, #3125).</li>
<li>Remove <code>GitHubSecurityLab/actions-permissions/monitor</code> to avoid TLS issues (#3124).</li>
<li>Bump <code>uv</code> version in GitHub Actions (#3124).</li>
</ul>
</li>
</ul>
<h1 id="2185">2.18.5<a class="headerlink" href="#2185" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Skip email-sending logic when email settings are not present (#3102).</li>
<li>Clarify viewer-path endpoint (#3096).</li>
</ul>
</li>
<li>Internals:<ul>
<li>Fix bug where <code>merge_type_filters</code> would mutate one of its arguments (#3116).</li>
</ul>
</li>
<li>Documentation:<ul>
<li>Fix OAuth API documentation (#3106).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Add script to run OAuth tests locally (#3110).</li>
<li>Fix OAuth test by including <code>fastapi-users</code> cookies (#3110).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Bump <code>fastapi</code> to v0.128 (#3110).</li>
<li>Bump <code>sqlmodel</code> to v0.0.31 (#3110).</li>
<li>Bump <code>fastapi-users</code> to v15.0.3 (#3110).</li>
<li>Bump <code>uvicorn</code> to v0.40 (#3110).</li>
<li>Bump <code>pydantic-settings</code> to v2.12.0 (#3110).</li>
</ul>
</li>
</ul>
<h1 id="2184">2.18.4<a class="headerlink" href="#2184" title="Permanent link">&para;</a></h1>
<ul>
<li>Include <code>LICENSE</code> file in distribution (#3099, #3100).</li>
</ul>
<h1 id="2183">2.18.3<a class="headerlink" href="#2183" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Add <code>resource_id</code> query parameter for admin jobs endpoint (#3082).</li>
<li>Support custom email claim in OIDC provider (#3095).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Include <code>use_mem_per_cpu: bool = False</code> flag for SLURM configuration (#3078).</li>
<li>Replace large traceback with placeholder (#3081).</li>
</ul>
</li>
<li>Settings:<ul>
<li>Introduce <code>OAuthSettings.OAUTH_EMAIL_CLAIM</code> (#3095).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Move from <code>poetry</code> optional dependency groups to standard dependency groups for <code>dev</code> and <code>docs</code> (#3086).</li>
</ul>
</li>
<li>Internal:<ul>
<li>Move <code>fractal_server</code> to <code>src/fractal_server</code> (#3086). Reverted with #3092.</li>
<li>Move from <code>poetry</code> to <code>uv</code> (#3086, #3088, #3089).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Implement several <code>zizmor</code> recommendations (#3077).</li>
<li>Add test for include/exclude options in build backend (#3089).</li>
</ul>
</li>
</ul>
<h1 id="2182">2.18.2<a class="headerlink" href="#2182" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Review logs in <code>read_log_file</code> aux function (#3073).</li>
<li>Review the job-list endpoints, so that their response is sorted and they do not check for project ownership information (#3076).</li>
</ul>
</li>
<li>Database:<ul>
<li>Drop <code>TaskGroupV2.venv_size_in_kB</code> and <code>TaskGroupV2.venv_file_number</code> (#3075).</li>
</ul>
</li>
<li>Task-group lifecycle:<ul>
<li>Stop measuring venv size and venv file number (#3075).</li>
</ul>
</li>
</ul>
<h1 id="2181">2.18.1<a class="headerlink" href="#2181" title="Permanent link">&para;</a></h1>
<ul>
<li>Database:<ul>
<li>Drop <code>server_default</code> for <code>is_owner</code>, <code>is_verified</code> and <code>permissions</code> in <code>LinkUserProjectV2</code> (#3058).</li>
<li>Drop <code>server_default</code> for <code>UserOAuth.project_dirs</code> and drop column <code>UserOAuth.project_dir</code> (#3058).</li>
</ul>
</li>
</ul>
<h1 id="2180">2.18.0<a class="headerlink" href="#2180" title="Permanent link">&para;</a></h1>
<blockquote>
<p>NOTE: This version requires running a data-migration script (<code>fractalctl update-db-data</code>).</p>
<p>WARNING: Before upgrading to this version, make sure that no jobs are marked as submitted in the current database tables.</p>
</blockquote>
<p>The main contents of this release are the introduction of the project sharing and a review of the authorization scheme for <a href="https://github.com/fractal-analytics-platform/fractal-data"><code>fractal-data</code></a>.</p>
<ul>
<li>API:<ul>
<li>Add project-owner endpoints <code>/api/v2/project/{project_id}/guest/</code> (#2999).</li>
<li>Add project-guest endpoints <code>/api/v2/project/invitation/</code>, <code>/api/v2/project/{project_id}/access/</code> and <code>/api/v2/project/{project_id}/access/accept/</code> (#2999).</li>
<li>Add project-sharing admin endpoint (#2999).</li>
<li>Add granular access-control rules to <code>/api/v2</code> endpoints, valid for both project owners and guests (#2999, #3029).</li>
<li>Add pagination to <code>GET /admin/v2/task-group/activity/</code> and <code>GET /admin/v2/task-group/</code> (#3023).</li>
<li>Do not cast endpoint return values to <code>PaginationResponse[X]</code> (#3023).</li>
<li>Reduce API logging level for some endpoints (#3010).</li>
<li>Modify <code>GET /auth/current-user/allowed-viewer-paths/</code> logic, with <code>include_shared_projects</code> query parameter (#3031, #3069).</li>
<li>Add validator for paths to forbid parent-directory references (#3031).</li>
<li>Add check to <code>PATCH /auth/users/{user_id}/</code> when patching <code>project_dirs</code> (#3043, #3069).</li>
<li>Review job-submission endpoint (#3041).</li>
<li>Prevent submissions if <code>Resource.prevent_new_submissions</code> is set (#3042).</li>
<li>Add <code>normpath</code> to <code>AbsolutePathStr</code> type (#3050).</li>
<li>Split <code>zarr_dir</code> request body argument of <code>POST /project/{project_id}/dataset/</code> into <code>project_dir</code> and <code>zarr_subfolder</code> (#3051).</li>
<li>Add <code>zarr_dir</code> validity check in <code>POST /project/{project_id}/dataset/import/</code> (#3051).</li>
<li>Remove <code>zarr_dir</code> request body argument from <code>PATCH /project/{project_id}/dataset/{dataset_id}/</code> (#3051).</li>
<li>Validate <code>images</code> in <code>DatasetImport</code> (#3057).</li>
<li>Sort response of <code>GET /admin/v2/task-group/activity/</code> starting with the most recent activities (#3066).</li>
</ul>
</li>
<li>App:<ul>
<li>Add <code>SlowResponseMiddleware</code> middleware (#3035, #3038, #3060).</li>
</ul>
</li>
<li>Settings:<ul>
<li>Add <code>Settings.FRACTAL_LONG_REQUEST_TIME</code> configuration variable (#3035).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Improve logging for when dataset or workflow is not found in the database (#3046).</li>
<li>Prevent job-execution from continuing if <code>Resource.prevent_new_submissions</code> is set (#3042).</li>
<li>Espose <code>shebang_line</code> in resource runner configuration (#3064).</li>
</ul>
</li>
<li>Database:<ul>
<li>Add <code>Resource.prevent_new_submissions</code> boolean flag (#3042).</li>
<li>Add project-sharing-related <code>LinkUserProjectV2</code> columns (#2999).</li>
<li>Move <code>UserOAuth.project_dir</code> to <code>.project_dirs</code> and drop <code>UserGrop.viewer_paths</code> (#3031).</li>
<li>Enforce max one submitted <code>JobV2</code> per <code>DatasetV2</code> (#3044).</li>
<li>Create 2.18.0 data-migration script (#3031, #3050).</li>
</ul>
</li>
<li>Settings:<ul>
<li>Drop <code>DataSettings</code> (#3031).</li>
<li>Reduce API logging level for some endpoints (#3010).</li>
</ul>
</li>
<li>Internal:<ul>
<li>Remove the "V2" label from names of internal schemas and API route tags (#3037).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Expand SLURM-batching-heuristics test (#3011).</li>
<li>Also validate resources and profiles in <code>migrations.yml</code> action (#3046).</li>
<li>Replace <code>MockCurrentUser.user_kwargs</code> with explicit keyword arguments (#3061).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Support Python 3.14 (#3015).</li>
</ul>
</li>
</ul>
<h1 id="2172">2.17.2<a class="headerlink" href="#2172" title="Permanent link">&para;</a></h1>
<blockquote>
<p>NOTE: Starting from this version, the <code>unzip</code> command-line tool must be available (see #2978).</p>
</blockquote>
<ul>
<li>API:<ul>
<li>Allow reading logs from zipped job folders (#2978).</li>
<li>Do not raise 422 from check-owner functions (#2988).</li>
<li>Remove <code>GET /admin/v2/project/</code>, <code>GET /api/v2/dataset/</code> and <code>GET /api/v2/workflow/</code> (#2989).</li>
</ul>
</li>
<li>Database:<ul>
<li>Add indexes to <code>HistoryImageCache</code> and <code>HistoryUnit</code> foreign keys to improve <code>DatasetV2</code> deletion time (#2987).</li>
<li>Drop <code>ProjectV2.user_list</code> relationship (#2991).</li>
<li>Adopt <code>onclause</code> on <code>JOIN</code> statements (#2993).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Handle default <code>batch_size</code> value for local runner (#2949).</li>
<li>Rename <code>SudoSlurmRunner</code> into <code>SlurmSudoRunner</code> (#2980).</li>
<li>Ignore some SLURM/stderr patterns when populating <code>executor_error_log</code> (#2984).</li>
</ul>
</li>
<li>App settings:<ul>
<li>Transform <code>DB_ECHO</code> configuration variable from boolean to <code>Literal['true', 'false']</code> (#2985).</li>
</ul>
</li>
<li>Documentation:<ul>
<li>Major review of documentation, including making it up-to-date with v2.17.0 and relying more on autogenerated contents (#2949, #2983).</li>
</ul>
</li>
<li>Development:<ul>
<li>Add <code>shellcheck</code> to precommit, for <code>fractal-server/</code> files (#2986).</li>
<li>Replace <code>reorder_python_imports</code>, <code>flake8</code> and <code>black</code> with <code>ruff</code> in pre-commit (#2994).</li>
</ul>
</li>
<li>Task-group lifecycle:<ul>
<li>Support extras in pinned packages names (#3000).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Update benchmarks (#2990).</li>
<li>Drop <code>benchmarks_runner</code> (#2990).</li>
</ul>
</li>
</ul>
<h1 id="2171">2.17.1<a class="headerlink" href="#2171" title="Permanent link">&para;</a></h1>
<ul>
<li>Runner:<ul>
<li>Raise an error for a non-converter task running on an empty image list (#2971).</li>
</ul>
</li>
<li>Database:<ul>
<li>Apply all database-schema changes made possible by 2.17.0 data migration (#2972), namely:<ul>
<li>Drop <code>user_settings</code> table and corresponding <code>UserOAuth.user_settings_id</code> foreign key.</li>
<li>Make <code>resource_id</code> foreign key non nullable in <code>ProjectV2</code> and <code>TaskGroupV2</code> tables.</li>
<li>Drop <code>server_default="/PLACEHOLDER</code> for <code>UserOAuth.project_dir</code>.</li>
</ul>
</li>
</ul>
</li>
<li>App:<ul>
<li>Streamline graceful-shutdown logic in lifespan (#2972).</li>
</ul>
</li>
<li>Settings:<ul>
<li>Accept float values for <code>FRACTAL_GRACEFUL_SHUTDOWN_TIME</code> (#2972).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Update testing database with 2.17.0 data migration (#2974).</li>
<li>Introduce <code>generic_task_converter</code> in <code>fractal-tasks-mock</code> (#2976).</li>
</ul>
</li>
</ul>
<h1 id="2170">2.17.0<a class="headerlink" href="#2170" title="Permanent link">&para;</a></h1>
<blockquote>
<p>This version requires running a data-migration script (<code>fractalctl update-db-data</code>),
see <a href="https://fractal-analytics-platform.github.io/fractal-server/internals/version_upgrades/upgrade_2_16_6_to_2_17_0/">detailed
instructions</a>.</p>
</blockquote>
<p>The main content of this release is the introduction of the computational
resource&amp;profile concepts, and a review of the application settings.</p>
<ul>
<li>API (main PRs: #2809, #2870, #2877, #2884, #2911, #2915, #2925, #2940, #2941, #2943, #2956):<ul>
<li>Introduce API for <code>Resource</code> and <code>Profile</code> models.</li>
<li>Drop API for user settings.</li>
<li>Drop handling of deprecated <code>DatasetV2.filters</code> attribute when creating dataset dumps (#2917).</li>
<li>Enable querying users by <code>resource_id</code> (#2877).</li>
<li>Check matching-<code>resource_id</code> upon job submission (#2896).</li>
<li>Treat <code>TaskGroupV2.resource_id</code> as not nullable (#2896).</li>
<li>Split <code>/api/settings/</code> into smaller-scope endpoints.</li>
<li>Update rules for read access to task groups with resource information (#2941).</li>
<li>Only show tasks and task groups associated to current user's <code>Resource</code> (#2906, #2943).</li>
<li>Add pagination to admin job and task endpoints (#2958).</li>
<li>Add <code>task_type</code> query parameter to admin task endpoint (#2958).</li>
</ul>
</li>
<li>Task-group lifecycle:<ul>
<li>Rely on resource and profile rather than user settings (#2809).</li>
<li>Fix postponed commit after task-group deletion (#2964).</li>
<li>Add Python3.14 option for task collection (#2965).</li>
</ul>
</li>
<li>Runner<ul>
<li>Rely on resource and profile rather than user settings (#2809).</li>
<li>Make <code>extra_lines</code> a non-optional list in SLURM configuration (#2893).</li>
<li>Enable <code>user_local_exports</code> on SLURM-SSH runner.</li>
</ul>
</li>
<li>Database and models (also #2931):<ul>
<li>Introduce <code>Resource</code> and <code>Profile</code> models (#2809).</li>
<li>Introduce <code>resource_id</code> foreign key for task-group and project models (#).</li>
<li>Move <code>project_dir</code> and <code>slurm_accounts</code> from <code>UserSettings</code> to <code>UserOAuth</code>.</li>
<li>Make <code>project_dir</code> required.</li>
<li>Discontinue usage of <code>UserSettings</code> table.</li>
<li>Add data-migration script for version 2.17.0 (#2933).</li>
</ul>
</li>
<li>Authentication API:<ul>
<li>Drop OAuth-based self registration (#2890).</li>
</ul>
</li>
<li>App settings (#2874, #2882, #2895, #2898, #2916, #2922, #2968):<ul>
<li>Remove all configuration variables that are now part of <code>Resource</code>s.</li>
<li>Split main <code>Settings</code> model into smaller-scope models.</li>
<li>Remove email-password encryption.</li>
<li>Introduce <code>init-db-data</code> command.</li>
<li>Set default <code>FRACTAL_API_MAX_JOB_LIST_LENGTH</code> to 25 (#2928).</li>
<li>Introduce <code>FRACTAL_DEFAULT_GROUP_NAME</code>, set to either <code>"All"</code> or <code>None</code> (#2939).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Bump <code>fastapi</code> to v0.120 (#2921).</li>
<li>Bump <code>uvicorn</code> to v0.38 (#2921).</li>
<li>Bump <code>fastapi-users</code> to v15 (#2907).</li>
</ul>
</li>
<li>Testing and GitHub actions:<ul>
<li>Simplify Python environment in documentation GitHub action (#2919).</li>
<li>Simplify PyPI-publish GitHub action (#2927).</li>
<li>Drop explicit dependency on `python-dotenv (#2921).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Introduce <code>pytest-env</code> dependency.</li>
<li>Update testing database to version 2.16.6 (#2909).</li>
<li>Test OAuth flow with <code>pytest</code> and remove OAuth GHA (#2929).</li>
</ul>
</li>
</ul>
<h1 id="2166">2.16.6<a class="headerlink" href="#2166" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Fix bug in import-workflow endpoint, leading to the wrong task-group being selected (#2863).</li>
</ul>
</li>
<li>Models:<ul>
<li>Fix use of custom <code>AttributeFilters</code> type in SQLModel model (#2830).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Bump <code>pydantic</code> to 2.12.0 (#2830).</li>
<li>Bump <code>poetry</code> to 2.2.1 in GitHub actions (#2830).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Add pre-commit rule to prevent custom types is models (#2830).</li>
</ul>
</li>
</ul>
<h1 id="2165">2.16.5<a class="headerlink" href="#2165" title="Permanent link">&para;</a></h1>
<ul>
<li>Dependencies:<ul>
<li>Bump <code>fastapi</code>, <code>sqlmodel</code>, <code>uvicorn</code>, <code>pydantic-settings</code> versions (#2827).</li>
</ul>
</li>
</ul>
<h1 id="2164">2.16.4<a class="headerlink" href="#2164" title="Permanent link">&para;</a></h1>
<ul>
<li>Task life cycle:<ul>
<li>Switch to PyPI Index API for finding latest package versions (#2790).</li>
</ul>
</li>
<li>SSH:<ul>
<li>Bump default lock-acquisition timeout from 250 to 500 seconds (#2826).</li>
<li>Introduce structured logs for SSH-lock dynamics (#2826).</li>
</ul>
</li>
<li>API:<ul>
<li>Replace <code>HTTP_422_UNPROCESSABLE_CONTENT</code> with <code>HTTP_422_UNPROCESSABLE_CONTENT</code> (#2790).</li>
</ul>
</li>
<li>Internal:<ul>
<li>Move <code>app.runner</code> into <code>runner</code> (#2814).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Use function-scoped base folder for backend (#2793).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Bump <code>fastapi</code> version (#2790).</li>
<li>Bump <code>uvicorn-worker</code> and <code>sqlmodel</code> versions (#2792).</li>
</ul>
</li>
</ul>
<h1 id="2163">2.16.3<a class="headerlink" href="#2163" title="Permanent link">&para;</a></h1>
<ul>
<li>Task life cycle:<ul>
<li>Move post-pixi-installation logic into the same SLURM job as <code>pixi install</code>, for SSH/SLURM deployment (#2787).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Bump <code>cryptography</code> (#2788).</li>
</ul>
</li>
</ul>
<h1 id="2162">2.16.2<a class="headerlink" href="#2162" title="Permanent link">&para;</a></h1>
<ul>
<li>Task life cycle:<ul>
<li>Move <code>pixi install</code> execution to SLURM jobs, for SSH/SLURM deployment (#2784).</li>
<li>Add <code>SLURM_CONFIG</code> to <code>PixiSettings</code> (#2784).</li>
</ul>
</li>
</ul>
<h1 id="2161">2.16.1<a class="headerlink" href="#2161" title="Permanent link">&para;</a></h1>
<ul>
<li>Runner:<ul>
<li>Drop top-level executor-error-related logs (#2783).</li>
<li>Drop obsolete <code>FRACTAL_SLURM_SBATCH_SLEEP</code> configuration variable (#2785).</li>
</ul>
</li>
</ul>
<h1 id="2160">2.16.0<a class="headerlink" href="#2160" title="Permanent link">&para;</a></h1>
<ul>
<li>Runner:<ul>
<li>Record SLURM-job stderr in <code>JobV2.executor_error_log</code> (#2750, #2771, #2773).</li>
</ul>
</li>
<li>Task life cycle:<ul>
<li>Support both pre-pinning and post-pinning of dependencies (#2761).</li>
<li>Drop <code>FRACTAL_MAX_PIP_VERSION</code> configuration variable (#2766).</li>
<li>Make TaskGroup deletion a lifecycle operation (#2759).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Add <code>out_of_memory</code> mock task (#2770).</li>
<li>Make fixtures sync when possible (#2776).</li>
<li>Bump pytest-related dependencies (#2776).</li>
</ul>
</li>
</ul>
<h1 id="2159">2.15.9<a class="headerlink" href="#2159" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>In <code>POST /api/v2/project/{project_id}/status/images/</code>, include <em>all</em> available types&amp;attributes (#2762).</li>
</ul>
</li>
<li>Internal:<ul>
<li>Optimize <code>fractal_server.images.tools.aggregate_attributes</code> (#2762).</li>
</ul>
</li>
</ul>
<h1 id="2158">2.15.8<a class="headerlink" href="#2158" title="Permanent link">&para;</a></h1>
<ul>
<li>Runner:<ul>
<li>Split <code>SlurmJob</code> submission into three steps, reducing SSH connections (#2749).</li>
<li>Deprecate experimental <code>pre_submission_commands</code> feature (#2749).</li>
</ul>
</li>
<li>Documentation:<ul>
<li>Fix <code>Fractal Users</code> documentation page (#2738).</li>
<li>Improve documentation for Pixi task collection (#2742).</li>
</ul>
</li>
<li>Task life cycle:<ul>
<li>Add test to lock <code>FRACTAL_MAX_PIP_VERSION</code> with latest version on PyPI (#2752).</li>
<li>Use pixi v0.54.1 in tests (#2758).</li>
</ul>
</li>
<li>Internal<ul>
<li>Improve type hints (#2739).</li>
</ul>
</li>
<li>SSH:<ul>
<li>Add a decorator to open a new connection (socket) if the decorated function hits a <code>NoValidConnectionError</code> or a <code>OSError</code> (#2747).</li>
<li>Remove multiple-attempts logic (#2747).</li>
</ul>
</li>
</ul>
<h1 id="2157">2.15.7<a class="headerlink" href="#2157" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Capture SSH related failure in submit-job endpoint (#2734).</li>
</ul>
</li>
<li>Task life cycle:<ul>
<li>Also edit <code>tool.pixi.project.platforms</code> section of <code>pyproject.toml</code>, for <code>pixi</code>-based task collection (#2711).</li>
</ul>
</li>
<li>Internal:<ul>
<li>Extend use of <code>UnreachableBranchError</code> in API and runner (#2726).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Bump <code>fastapi</code> to version <code>0.116.*</code> (#2718).</li>
<li>Bump all <code>docs</code> optional dependencies (#2722).</li>
<li>Add support for Python 3.13 (#2716).</li>
</ul>
</li>
<li>Documentation:<ul>
<li>Remove/fix several obsolete docs pages (#2722).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Improve/optimize several tests (#2727).</li>
<li>Use <code>poetry</code> 2.1.3 in all GitHub Actions and always install it using <code>pipx</code> (#2731).</li>
<li>Move all GitHub Action runners to <code>ubuntu-24.04</code> (#2732).</li>
<li>Avoid using <code>threading</code> private method (#2733).</li>
</ul>
</li>
</ul>
<h1 id="2156">2.15.6<a class="headerlink" href="#2156" title="Permanent link">&para;</a></h1>
<ul>
<li>Runner:<ul>
<li>Remove obsolete <code>JobExecutionError</code> attributes and <code>TaskExecutionError</code> handling (#2708).</li>
<li>Always interpret <code>needs_gpu</code> string as a boolean (#2706).</li>
</ul>
</li>
<li>Task life cycle:<ul>
<li>Use <code>bash --login</code> for <code>pixi install</code> execution over SSH (#2709).</li>
</ul>
</li>
<li>Development:<ul>
<li>Move <code>example</code> folder to root directory (#2720).</li>
</ul>
</li>
</ul>
<h1 id="2155">2.15.5<a class="headerlink" href="#2155" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Update <code>HistoryRun</code> and <code>HistoryUnit</code>s statuses when <code>Workflow</code>s are manually labeled as failed (#2705).</li>
</ul>
</li>
</ul>
<h1 id="2154">2.15.4<a class="headerlink" href="#2154" title="Permanent link">&para;</a></h1>
<ul>
<li>Task lifecycle:<ul>
<li>Edit <code>pyproject.toml</code> in-place before running <code>pixi install</code> (#2696).</li>
</ul>
</li>
</ul>
<h1 id="2153">2.15.3<a class="headerlink" href="#2153" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Ongoing <code>WorkflowTask</code>s are marked as submitted during <code>Job</code> execution (#2692).</li>
</ul>
</li>
</ul>
<h1 id="2152">2.15.2<a class="headerlink" href="#2152" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Improve logging for <code>PATCH /admin/v2/job/{job_id}/</code> (#2686).</li>
<li>Prevent deletion and reordering of <code>WorkflowTask</code>s in <code>Workflow</code>s associated to submitted <code>Job</code>s (#2689).</li>
</ul>
</li>
<li>Database:<ul>
<li>Set <code>pool_pre_ping=True</code> for sync db engine (#2676).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Update <code>chmod ... -R</code> to <code>chmod -R ...</code> (#2681).</li>
<li>Add custom handling of some <code>slurm_load_jobs</code> socket-timeout error (#2683).</li>
<li>Remove redundant <code>mkdir</code> in SLURM SSH runner (#2671).</li>
<li>Do not write to SLURM stderr from remote worker (#2691).</li>
<li>Fix spurious version-mismatch warning in remote worker (#2691).</li>
</ul>
</li>
<li>SSH:<ul>
<li>Always set <code>in_stream=False</code> for <code>fabric.Connection.run</code> (#2694).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Fix <code>test_FractalSSH.py::test_folder_utils</code> for MacOS (#2678).</li>
<li>Add pytest marker <code>fails_on_macos</code> (#2681).</li>
<li>Remove patching of <code>sys.stdin</code>, thanks to updates to <code>fabric.Connection.run</code> arguments (#2694).</li>
</ul>
</li>
</ul>
<h1 id="2151">2.15.1<a class="headerlink" href="#2151" title="Permanent link">&para;</a></h1>
<p>This release fixes the reason for yanking 2.15.0.</p>
<ul>
<li>Database:<ul>
<li>Modify <code>JSON-&gt;JSONB</code> database schema migration in-place, so that columns which represent JSON Schemas or <code>meta_*</code> fields remain in JSON form rather than JSONB (#2664, #2666).</li>
</ul>
</li>
</ul>
<h1 id="2150-yanked">2.15.0 [yanked]<a class="headerlink" href="#2150-yanked" title="Permanent link">&para;</a></h1>
<blockquote>
<p>This release was yanked on PyPI, because its conversion of all JSON columns
into JSONB changes the key order, see
<a href="https://github.com/fractal-analytics-platform/fractal-server/issues/2663">https://github.com/fractal-analytics-platform/fractal-server/issues/2663</a>.</p>
</blockquote>
<ul>
<li>Database:<ul>
<li>Rename <code>TaskGroupV2.wheel_path</code> into <code>TaskGroupV2.archive_path</code> (#2627).</li>
<li>Rename <code>TaskGroupV2.pip_freeze</code> into <code>TaskGroupV2.env_info</code> (#2627).</li>
<li>Add <code>TaskGroupV2.pixi_version</code> (#2627).</li>
<li>Transform every JSON column to JSONB (#2662).</li>
</ul>
</li>
<li>API:<ul>
<li>Introduce new value <code>TaskGroupV2OriginEnum.PIXI</code> (#2627).</li>
<li>Exclude <code>TaskGroupV2.env_info</code> from API responses (#2627).</li>
<li>Introduce <code>POST /api/v2/task/collect/pixi/</code> (#2627).</li>
<li>Extend deactivation/reactivation endpoints to pixi task groups (#2627).</li>
<li>Block <code>DELETE /api/v2/task-group/{task_group_id}/</code> if a task-group activity is ongoing (#2642).</li>
<li>Introduce <code>_verify_non_duplication_group_path</code> auxiliary function (#2643).</li>
</ul>
</li>
<li>Task lifecycle:<ul>
<li>Introduce full support for pixi task-group lifecycle (#2627, #2651, #2652, #2654).</li>
</ul>
</li>
<li>SSH:<ul>
<li>Introduce <code>FractalSSH.read_remote_text_file</code> (#2627).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Fix use of <code>worker_init/extra_lines</code> for multi-image job execution (#2660).</li>
<li>Support SLURM configuration options <code>nodelist</code> and <code>exclude</code> (#2660).</li>
</ul>
</li>
<li>App configuration:<ul>
<li>Introduce new configuration variable <code>FRACTAL_PIXI_CONFIG_FILE</code> and new attribute <code>Settings.pixi</code> (#2627, #2650).</li>
</ul>
</li>
</ul>
<h1 id="21416">2.14.16<a class="headerlink" href="#21416" title="Permanent link">&para;</a></h1>
<ul>
<li>Internal:<ul>
<li>Refactor and optimize enrich-image functions (#2620).</li>
</ul>
</li>
<li>Database:<ul>
<li>Add indices to <code>HistoryImageCache</code> table (#2620).</li>
</ul>
</li>
<li>SSH:<ul>
<li>Increase Paramiko <code>banner_timeout</code> from the default 15 seconds to 30 seconds (#2632).</li>
<li>Re-include <code>check_connection</code> upon <code>SlurmSSHRunner</code> startup (#2636).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Introduce benchmarks for database operations (#2620).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Update <code>cryptography</code>, <code>packaging</code> and <code>python-dotenv</code> dependencies (#2630).</li>
</ul>
</li>
</ul>
<h1 id="21415">2.14.15<a class="headerlink" href="#21415" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Add required <code>workflowtask_id</code> query parameter to <code>verify-unique-types</code> endpoint (#2619).</li>
<li>Enrich images with status within <code>verify-unique-types</code> endpoint, when necessary (#2619).</li>
</ul>
</li>
</ul>
<h1 id="21414">2.14.14<a class="headerlink" href="#21414" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Fix <code>GET /api/v2/task-group/</code> by adding missing sorting before <code>itertools.groupby</code> (#2614).</li>
</ul>
</li>
<li>Internal:<ul>
<li>Drop <code>execute_command_async</code> function (#2611).</li>
<li>Introduce <code>TaskType</code> enum (#2612).</li>
</ul>
</li>
</ul>
<h1 id="21413">2.14.13<a class="headerlink" href="#21413" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Group response items of <code>GET /api/v2/task-group/</code> by <code>pkg_name</code> (#2596).</li>
<li>Disambiguate response items of <code>GET /api/v2/task-group/</code> (#2596).</li>
</ul>
</li>
<li>Internal:<ul>
<li>Introduce <code>UnreachableBranchError</code> (#2596).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Enforce task-group non-duplication constraints in <code>task_factory_v2</code> fixture (#2596).</li>
</ul>
</li>
</ul>
<h1 id="21412">2.14.12<a class="headerlink" href="#21412" title="Permanent link">&para;</a></h1>
<ul>
<li>Runner:<ul>
<li>Enable status-based selection of images to process (#2588).</li>
</ul>
</li>
<li>API:<ul>
<li>Remove <code>unit_status</code> query parameter from <code>/project/{project_id}/status/images/</code> (#2588).</li>
<li>Remove default type filters from <code>/project/{project_id}/status/images/</code> (#2588).</li>
<li>Sort lists of existing attribute values in <code>aggregate_attributes</code> (#2588).</li>
</ul>
</li>
<li>Task-group lifecycle:<ul>
<li>Split <code>pip install</code> command into two steps (#2600).</li>
</ul>
</li>
</ul>
<h1 id="21411">2.14.11<a class="headerlink" href="#21411" title="Permanent link">&para;</a></h1>
<ul>
<li>Task-group lifecycle:<ul>
<li>Support version-pinning for two dependencies in task collection (#2590, #2599).</li>
<li>Support version-pinning for previously-missing dependencies in task collection (#2590, #2599).</li>
</ul>
</li>
<li>Development:<ul>
<li>Improve <code>mypy</code> configuration in <code>pyproject.toml</code> (#2595).</li>
</ul>
</li>
</ul>
<h1 id="21410">2.14.10<a class="headerlink" href="#21410" title="Permanent link">&para;</a></h1>
<blockquote>
<p>This version requires a data-migration script (<code>fractalctl update-db-data</code>).</p>
</blockquote>
<ul>
<li>Database:<ul>
<li>Improve data-migration script that is necessary for 2.14.8 (#2594).</li>
</ul>
</li>
</ul>
<h1 id="2149">2.14.9<a class="headerlink" href="#2149" title="Permanent link">&para;</a></h1>
<blockquote>
<p>WARNING: Do not release this version, but go directly to 2.14.10.</p>
</blockquote>
<ul>
<li>Task-group lifecycle:<ul>
<li>Improve handling of SSH-related errors (#2589).</li>
</ul>
</li>
<li>Database:<ul>
<li>Rename data-migration script that is necessary for 2.14.8 (#2592).</li>
</ul>
</li>
</ul>
<h1 id="2148">2.14.8<a class="headerlink" href="#2148" title="Permanent link">&para;</a></h1>
<blockquote>
<p>WARNING: Do not release this version, but go directly to 2.14.10.</p>
</blockquote>
<ul>
<li>API:<ul>
<li>Update <code>POST /project/{project_id}/workflow/{workflow_id}/wftask/replace-task/</code> so that it re-uses existing workflow task (#2565).</li>
</ul>
</li>
<li>Database:<ul>
<li>Add <code>HistoryRun.task_id</code> column (#2565).</li>
</ul>
</li>
<li>Internal:<ul>
<li>Refactor: extract <code>enrich_image_list</code> function from <code>/project/{project_id}/status/images/</code> endpoint (#2585).</li>
</ul>
</li>
</ul>
<h1 id="2147">2.14.7<a class="headerlink" href="#2147" title="Permanent link">&para;</a></h1>
<ul>
<li>Runner:<ul>
<li>Re-include SLURM accounts for both sudo-slurm and ssh-slurm runners (#2580)</li>
<li>Re-include use of <code>worker_init</code> for both sudo-slurm and ssh-slurm runners (#2580)</li>
</ul>
</li>
<li>Testing:<ul>
<li>Use <code>Optional</code> for argument type hints in mock tasks (#2575).</li>
</ul>
</li>
</ul>
<h1 id="2146">2.14.6<a class="headerlink" href="#2146" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Introduce <code>api/v2/project/{project.id}/workflow/{workflow.id}/version-update-candidates/</code> endpoint (#2556).</li>
</ul>
</li>
<li>Task lifecycle:<ul>
<li>Use dedicated SSH connections for lifecycle background tasks (#2569).</li>
<li>Also set <code>TaskGroup.version</code> for custom task collections (#2573).</li>
</ul>
</li>
<li>Internal:<ul>
<li>Inherit from <code>StrEnum</code> rather than <code>str, Enum</code> (#2561).</li>
<li>Run <code>pyupgrade</code> on codebase (#2563).</li>
<li>Remove init file of obsolete folder (#2571).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Deprecate Python 3.10 (#2561).</li>
</ul>
</li>
</ul>
<h1 id="2145">2.14.5<a class="headerlink" href="#2145" title="Permanent link">&para;</a></h1>
<p>This version introduces an important <em>internal</em> refactor of the runner
component, with the goal of simplifying the SLURM version.</p>
<ul>
<li>Runner:<ul>
<li>Make <code>submit/multisubmit</code> method take static arguments, rather than a callable (#2549).</li>
<li>Replace input/output pickle files with JSON files (#2549).</li>
<li>Drop possibility of non-<code>utf-8</code> encoding for <code>_run_command_as_user</code> function (#2549).</li>
<li>Avoid local-remote-local round trip for task parameters, by writing the local file first (#2549).</li>
<li>Stop relying on positive/negative return codes to produce either <code>TaskExecutionError</code>/<code>JobExecutionError</code>, in favor of only producing <code>TaskExecutionError</code> at the lowest task-execution level (#2549).</li>
<li>Re-implement <code>run_single_task</code> within SLURM remote <code>worker</code> function (#2549).</li>
<li>Drop <code>TaskFiles.remote_files_dict</code> (#2549).</li>
<li>Drop obsolete <code>FRACTAL_SLURM_ERROR_HANDLING_INTERVAL</code> config variable (#2549).</li>
<li>Drop obsolete <code>utils_executors.py</code> module (#2549).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Drop <code>cloudpickle</code> dependency (#2549).</li>
<li>Remove copyright references to <code>clusterfutures</code> (#2549).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Introduce <code>slurm_alive</code> fixture that checks <code>scontrol ping</code> results (#2549).</li>
</ul>
</li>
</ul>
<h1 id="2144">2.14.4<a class="headerlink" href="#2144" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Replace most <code>field_validator</code>s with <code>Annotated</code> types, and review <code>model_validator</code>s (#2504).</li>
</ul>
</li>
<li>SSH:<ul>
<li>Remove Python-wrapper layer for <code>tar</code> commands (#2554).</li>
<li>Add <code>elapsed</code> information to SSH-lock-was-acquired log (#2558).</li>
</ul>
</li>
</ul>
<h1 id="2143">2.14.3<a class="headerlink" href="#2143" title="Permanent link">&para;</a></h1>
<ul>
<li>Runner:<ul>
<li>Skip creation/removal of folder copy in compress-folder module (#2553).</li>
<li>Drop obsolete <code>--extra-import-paths</code> option from SLURM remote worker (#2550).</li>
</ul>
</li>
</ul>
<h1 id="2142">2.14.2<a class="headerlink" href="#2142" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Handle inaccessible <code>python_interpreter</code> or <code>package_root</code> in custom task collection  (#2536).</li>
<li>Do not raise non-processed-images warning if the previous task is a converter (#2546).</li>
</ul>
</li>
<li>App:<ul>
<li>Use <code>Enum</code> values in f-strings, for filenames and error messages (#2540).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Handle exceptions in post-task-execution runner code (#2543).</li>
</ul>
</li>
</ul>
<h1 id="2141">2.14.1<a class="headerlink" href="#2141" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Add <code>POST /project/{project_id}/dataset/{dataset_id}/images/non-processed/</code> endpoint (#2524, #2533).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Do not create temporary output-pickle files (#2539).</li>
<li>Set logging level to <code>DEBUG</code> within <code>compress_folder</code> and <code>extract_archive</code> modules (#2539).</li>
<li>Transform job-error log into warning (#2539).</li>
<li>Drop <code>FRACTAL_SLURM_INTERVAL_BEFORE_RETRIEVAL</code> (#2525, #2531).</li>
<li>Increase <code>MAX_NUM_THREADS</code> from 4 to 12 (#2520).</li>
<li>Support re-deriving an existing image with a non-trivial <code>origin</code> (#2527).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Adopt ubuntu24 containers for CI (#2530).</li>
<li>Do not run Python3.11 container CI for PRs, but only for merges (#2519).</li>
<li>Add mock wheel file and update assertion for pip 25.1 (#2523).</li>
<li>Optimize <code>test_reactivate_local_fail</code> (#2511).</li>
<li>Replace <code>fractal-tasks-core</code> with <code>testing-tasks-mock</code> in tests (#2511).</li>
<li>Improve flaky test (#2513).</li>
</ul>
</li>
</ul>
<h1 id="2140">2.14.0<a class="headerlink" href="#2140" title="Permanent link">&para;</a></h1>
<p>This release mostly concerns the new database/runner integration in view of
providing more granular history/status information. This includes a full
overhaul of the runner.</p>
<ul>
<li>API:<ul>
<li>Add all new status endpoints.</li>
<li>Add <code>GET /job/latest/</code> endpoint (#2389).</li>
<li>Make request body required for <code>replace-task</code> endpoint (#2355).</li>
<li>Introduce shared tools for pagination.</li>
<li>Remove <code>valstr</code> validator and introduce <code>NonEmptyString</code> in schemas (#2352).</li>
</ul>
</li>
<li>Database<ul>
<li>New tables <code>HistoryRun</code>, <code>HistoryUnit</code> and <code>HistoryImageCache</code> tables.</li>
<li>Drop attribute/type filters from dataset table.</li>
<li>Add <code>type_filters</code> column to job table.</li>
<li>Use <code>ondelete</code> flag in place of custom DELETE-endpoint logics.</li>
</ul>
</li>
<li>Runner<ul>
<li>Full overhaul of runners. Among the large number of changes, this includes:<ul>
<li>Fully drop the <code>concurrent.futures</code> interface.</li>
<li>Fully drop the multithreaded nature of SLURM runners, in favor of a more linear submission/retrieval flow.</li>
<li>New <code>BaseRunner</code>, <code>LocalRunner</code>, <code>BaseSlurmRunner</code>, <code>SlurmSSHRunner</code> and <code>SlurmSudoRunner</code> objects.</li>
<li>The two SLURM runners now share a large part of base logic.</li>
<li>Database updates to <code>HistoryRun</code>, <code>HistoryUnit</code> and <code>HistoryImageCache</code> tables.</li>
<li>We do not fill <code>Dataset.history</code> any more.</li>
</ul>
</li>
</ul>
</li>
<li>Task lifecycle:<ul>
<li>Drop hard-coded use of <code>--no-cache-dir</code> for <code>pip install</code> command (#2357).</li>
</ul>
</li>
<li>App:<ul>
<li>Obfuscate sensitive information from settings using <code>SecretStr</code> (#2333).</li>
<li>Drop <code>FRACTAL_RUNNER_TASKS_INCLUDE_IMAGE</code> obsolete configuration variable (#2359).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Use <code>fractal-task-tools</code> to build <code>fractal-tasks-mock</code> manifest (#2374).</li>
</ul>
</li>
<li>Development:<ul>
<li>Add <code>codespell</code> to precommit (#2358).</li>
<li>Drop obsolete <code>examples</code> folder (#2405).</li>
</ul>
</li>
</ul>
<h1 id="2131">2.13.1<a class="headerlink" href="#2131" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Add <code>AccountingRecord</code> and <code>AccountingRecordSlurm</code> tables (#2267).</li>
<li>Add <code>/admin/v2/impersonate</code> endpoint (#2280).</li>
<li>Replace <code>_raise_if_naive_datetime</code> with <code>AwareDatetime</code> (#2283).</li>
</ul>
</li>
<li>Database:<ul>
<li>Add <code>/admin/v2/accounting/</code> and <code>/admin/v2/accounting/slurm/</code> endpoints (#2267).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Populate <code>AccountingRecord</code> from runner (#2267).</li>
</ul>
</li>
<li>App:<ul>
<li>Review configuration variables for email-sending (#2269).</li>
<li>Reduce error-level log records(#2282).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Drop obsolete files/folders from <code>tests/data</code> (#2281).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Bump <code>httpx</code> to version <code>0.28.*</code> (#2284).</li>
</ul>
</li>
</ul>
<h1 id="2130">2.13.0<a class="headerlink" href="#2130" title="Permanent link">&para;</a></h1>
<p>With this release we switch to Pydantic v2.</p>
<ul>
<li>Runner:<ul>
<li>Deprecate <code>FRACTAL_BACKEND_RUNNER="local_experimental"</code> (#2273).</li>
<li>Fully replace <code>clusterfutures</code> classes with custom ones (#2272).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Bump <code>pydantic</code> to v2 (#2270).</li>
<li>Drop <code>clusterfutures</code> dependency (#2272).</li>
<li>Drop <code>psutil</code> dependency (#2273).</li>
<li>Bump <code>cryptography</code> to version <code>44.0.*</code> (#2274).</li>
<li>Bump <code>sqlmodel</code> to version <code>0.0.22</code> (#2275).</li>
<li>Bump <code>packaging</code> to version <code>24.*.*</code> (#2275).</li>
<li>Bump <code>cloudpickle</code> to version <code>3.1.*</code> (#2275).</li>
<li>Bump <code>uvicorn-workers</code> to version <code>0.3.0</code> (#2275).</li>
<li>Bump <code>gunicorn</code> to version <code>23.*.*</code> (#2275).</li>
<li>Bump <code>httpx</code> to version <code>0.27.*</code> (#2275).</li>
</ul>
</li>
</ul>
<h1 id="2121">2.12.1<a class="headerlink" href="#2121" title="Permanent link">&para;</a></h1>
<blockquote>
<p>Note: this version requires a manual update of email-related configuration variables.</p>
</blockquote>
<ul>
<li>API:<ul>
<li>Deprecate <code>use_dataset_filters</code> query parameter for <code>/project/{project_id}/dataset/{dataset_id}/images/query/</code> (#2231).</li>
</ul>
</li>
<li>App:<ul>
<li>Add fractal-server version to logs (#2228).</li>
<li>Review configuration variables for email-sending (#2241).</li>
</ul>
</li>
<li>Database:<ul>
<li>Remove <code>run_migrations_offline</code> from <code>env.py</code> and make <code>run_migrations_online</code> sync (#2239).</li>
</ul>
</li>
<li>Task lifecycle:<ul>
<li>Reset logger handlers upon success of a background lifecycle operation, to avoid open file descriptors (#2256).</li>
</ul>
</li>
<li>Runner<ul>
<li>Sudo/SLURM executor checks the fractal-server version using <code>FRACTAL_SLURM_WORKER_PYTHON</code> config variable, if set (#2240).</li>
<li>Add <code>uname -n</code> to SLURM submission scripts (#2247).</li>
<li>Handle <code>_COMPONENT_KEY_</code>-related errors in sudo/SLURM executor, to simplify testing (#2245).</li>
<li>Drop obsolete <code>SlurmJob.workflow_task_file_prefix</code> for both SSH/sudo executors (#2245).</li>
<li>Drop obsolete <code>keep_pickle_files</code> attribute from slurm executors (#2246).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Bump <code>uvicorn</code> version (#2242).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Improve testing of sudo-Slurm executor (#2245, #2246).</li>
<li>Introduce <code>container</code> pytest marker (#2249).</li>
<li>Split CI GitHub Actions in three jobs: API, not API and Containers (#2249).</li>
</ul>
</li>
</ul>
<h1 id="2120">2.12.0<a class="headerlink" href="#2120" title="Permanent link">&para;</a></h1>
<blockquote>
<p>WARNING: The database schema update introduced via this version is non-reversible.</p>
</blockquote>
<ul>
<li>API:<ul>
<li>Drop V1 endpoints (#2230).</li>
</ul>
</li>
<li>Database:<ul>
<li>Drop V1 tables (#2230).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Drop V1 runners (#2230).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Drop V1 tests (#2230).</li>
<li>Update V2 tests to keep coverage stable (#2230).</li>
</ul>
</li>
</ul>
<h1 id="2111">2.11.1<a class="headerlink" href="#2111" title="Permanent link">&para;</a></h1>
<ul>
<li>Database<ul>
<li>Drop columns <code>DatasetV2.filters</code> and <code>WorkflowTaskV2.input_filters</code> (#2232).</li>
</ul>
</li>
</ul>
<h1 id="2110">2.11.0<a class="headerlink" href="#2110" title="Permanent link">&para;</a></h1>
<p>This version revamps the filters data structure, and it introduces complex attribute filters.</p>
<blockquote>
<p>Note: This release requires running <code>fractalctl update-db-data</code>.
Some legacy columns will be removed from the database, either as part of
the <code>2.11.0</code> data-migration or as part of the <code>2.11.1</code> schema migration.
Please make sure you have a database dump.</p>
</blockquote>
<ul>
<li>API:<ul>
<li>Align API with new database schemas for filters-related columns (#2168, #2196, #2202).</li>
<li>Support importing workflows or datasets with legacy (pre-<code>2.11.0</code>) filters-related fields (#2185, #2227).</li>
<li>Avoid blocking operations from the download-job-logs endpoint, when the zip archive of a running job is requested (#2225).</li>
<li>Update and simplify <code>/api/v2/project/{project_id}/status/</code>, dropping use of temporary job files (#2169).</li>
<li>Add new (experimental) <code>/project/{project_id}/workflow/{workflow_id}/type-filters-flow/</code> endpoint (#2208).</li>
</ul>
</li>
<li>Database:<ul>
<li>Update table schemas for all filters-related columns:<ul>
<li>Always handle attribute- and type-filters in different columns (#2168).</li>
<li>Update attribute-filter-values type from scalar to list (#2168, #2196).</li>
<li>Deprecate attribute filters for <code>WorkflowTaskV2</code> (#2168).</li>
<li>Add attribute filters to <code>JobV2</code> (#2168).</li>
</ul>
</li>
<li><code>2.11.0</code> data-migration script (#2168, #2202, #2208, #2209).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Introduce database writes in runner component, to replace the use of temporary files (#2169).</li>
<li>Use <code>TaskV2.input_types</code> for filtering, rather than validation (#2191, #2196).</li>
<li>Make job-execution background-task function sync, to make it transparent that it runs on a thread (#2220).</li>
<li>Remove all filters from <code>TaskOutput</code> (#2190).</li>
</ul>
</li>
<li>Task Collection:<ul>
<li>Improve logs handling for failed task collections (#2192)</li>
</ul>
</li>
<li>Testing:<ul>
<li>Speed up CI by splitting it into more jobs (#2210).</li>
</ul>
</li>
</ul>
<h1 id="2106">2.10.6<a class="headerlink" href="#2106" title="Permanent link">&para;</a></h1>
<ul>
<li>Task lifecycle:<ul>
<li>Use unique logger names for task-lifecycle operations (#2204).</li>
</ul>
</li>
</ul>
<h1 id="2105">2.10.5<a class="headerlink" href="#2105" title="Permanent link">&para;</a></h1>
<ul>
<li>App:<ul>
<li>Add missing space in "To" field for email settings (#2173).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Improve configuration for coverage GitHub Action step (#2175).</li>
<li>Add <code>persist-credentials: false</code> to <code>actions/checkout@v4</code> GitHub Action steps (#2176).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Require <code>bumpver&gt;2024.0</code> (#2179).</li>
</ul>
</li>
</ul>
<h1 id="2104">2.10.4<a class="headerlink" href="#2104" title="Permanent link">&para;</a></h1>
<ul>
<li>Switch to poetry v2 (#2165).</li>
<li>Require Python &lt;3.13 (#2165).</li>
</ul>
<h1 id="2103">2.10.3<a class="headerlink" href="#2103" title="Permanent link">&para;</a></h1>
<p>Note: this version fixes a bug introduced in version 2.10.1.</p>
<ul>
<li>API:<ul>
<li>Fix bug in <code>POST /api/v2/project/{p_id}/workflow/{w_id}/wftask/replace-task/</code> endpoint (#2163).</li>
<li>Add validation for <code>.whl</code> filename (#2147).</li>
<li>Trim whitespaces in <code>DatasetCreateV2.zarr_dir</code> (#2138).</li>
<li>Support sending emails upon new OAuth signup (#2150).</li>
</ul>
</li>
<li>App:<ul>
<li>Introduce configuration for email settings (#2150).</li>
</ul>
</li>
<li>Command-line interface:<ul>
<li>Add <code>fractalctl email-settings</code> (#2150).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Add direct dependency on <code>cryptography</code> (#2150).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Introduce <code>mailpit</code>-based end-to-end test of email sending (#2150).</li>
</ul>
</li>
</ul>
<h1 id="2102">2.10.2<a class="headerlink" href="#2102" title="Permanent link">&para;</a></h1>
<ul>
<li>App:<ul>
<li>Add <code>FRACTAL_PIP_CACHE_DIR</code> configuration variable (#2141).</li>
</ul>
</li>
<li>Tasks life cycle:<ul>
<li>Prevent deactivation of task groups with <code>"github.com"</code> in pip-freeze information (#2144).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Handle early shutdown for sudo SLURM executor (#2132).</li>
<li>Fix repeated setting of <code>timestamp_ended</code> in task-group reactivation (#2140).</li>
</ul>
</li>
</ul>
<h1 id="2101">2.10.1<a class="headerlink" href="#2101" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Add <code>POST /api/v2/project/{p_id}/workflow/{w_id}/wftask/replace-task/</code> endpoint (#2129).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Use system postgresql in GitHub actions, rather than independent container (#2199).</li>
</ul>
</li>
</ul>
<h1 id="2100">2.10.0<a class="headerlink" href="#2100" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Major update of <code>POST /api/v2/task/collect/pip/</code>, to support wheel-file upload (#2113).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Add test of private task collection (#2126).</li>
</ul>
</li>
</ul>
<h1 id="292">2.9.2<a class="headerlink" href="#292" title="Permanent link">&para;</a></h1>
<ul>
<li>API<ul>
<li>Remove <code>cache_dir</code> and use <code>project_dir/.fractal_cache</code> (#2121).</li>
</ul>
</li>
<li>Docs<ul>
<li>Improve docstrings and reduce mkdocs warnings (#2122).</li>
</ul>
</li>
</ul>
<h1 id="291">2.9.1<a class="headerlink" href="#291" title="Permanent link">&para;</a></h1>
<ul>
<li>Task collection:<ul>
<li>Fix bug in wheel-based SSH task-collection (#2119).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Re-include a specific test previously skipped for Python 3.12 (#2114).</li>
<li>Add metadata to <code>fractal-tasks-mock</code> package (#2117).</li>
</ul>
</li>
<li>Docs:<ul>
<li>Add info about working versions.</li>
</ul>
</li>
</ul>
<h1 id="290">2.9.0<a class="headerlink" href="#290" title="Permanent link">&para;</a></h1>
<blockquote>
<p>WARNING 1: This version drops support for sqlite, and removes the
configuration variables <code>DB_ENGINE</code> and <code>SQLITE_PATH</code>.</p>
<p>WARNING 2: This version removes the <code>CollectionStateV2</code> database table.
Make sure you have a database dump before running <code>fractalctl set-db</code>, since this operation cannot be undone.</p>
</blockquote>
<ul>
<li>API<ul>
<li>Remove <code>GET /api/v2/task/collect/{state_id}/</code> endpoint (#2010).</li>
<li>Remove <code>active</code> property from <code>PATCH /api/v2/task-group/{task_group_id}/</code> (#2033).</li>
<li>Add <code>GET /api/v2/task-group/activity/</code> endpoint (#2005, #2027).</li>
<li>Add <code>GET /api/v2/task-group/activity/{task_group_activity_id}/</code> endpoint (#2005).</li>
<li>Add <code>GET /admin/v2/task-group/activity/</code> endpoint (#2005, #2027).</li>
<li>Add <code>POST /api/v2/task-group/{task_group_id}/{deactivate|reactivate}</code> endpoints (#2033, #2066, #2078).</li>
<li>Add <code>POST /admin/v2/task-group/{task_group_id}/{deactivate|reactivate}</code> endpoints (#2062, #2078).</li>
<li>Remove <code>GET /auth/current-user/viewer-paths/</code> (#2096).</li>
<li>Add <code>GET /auth/current-user/allowed-viewer-paths/</code>, with logic for <code>fractal-vizarr-viewer</code> authorization (#2096).</li>
<li>Add <code>category</code>, <code>modality</code> and <code>author</code> query parameters to <code>GET /admin/v2/task/</code> (#2102).</li>
<li>Add <code>POST /auth/group/{group_id}/add-user/{user_id}/</code> (#2101).</li>
<li>Add <code>POST /auth/group/{group_id}/remove-user/{user_id}/</code> (#2101, #2111).</li>
<li>Add <code>POST /auth/users/{user_id}/set-groups/</code> (#2106).</li>
<li>Remove <code>new_user_ids</code> property from <code>PATCH /auth/group/{group_id}/</code> (#2101).</li>
<li>Remove <code>new_group_ids</code> property from <code>PATCH /auth/users/{user_id}/</code> (#2106).</li>
<li>Internals:</li>
<li>Fix bug in <code>_get_collection_task_group_activity_status_message</code> (#2047).</li>
<li>Remove <code>valutc</code> validator for timestamps from API schemas, since it does not match with <code>psycopg3</code> behavior (#2064).</li>
<li>Add query parameters <code>timestamp_last_used_{min|max}</code> to <code>GET /admin/v2/task-group/</code> (#2061).</li>
<li>Remove <code>_convert_to_db_timestamp</code> and add <code>_raise_if_naive_datetime</code>: now API only accepts timezone-aware datetimes as query parameters (#2068).</li>
<li>Remove <code>_encode_as_utc</code>: now timestamps are serialized in JSONs with their own timezone (#2081).</li>
</ul>
</li>
<li>Database<ul>
<li>Drop support for sqlite, and remove the <code>DB_ENGINE</code> and <code>SQLITE_PATH</code> configuration variables (#2052).</li>
<li>Add <code>TaskGroupActivityV2</code> table (#2005).</li>
<li>Drop <code>CollectionStateV2</code> table (#2010).</li>
<li>Add <code>TaskGroupV2.pip_freeze</code> nullable column (#2017).</li>
<li>Add  <code>venv_size_in_kB</code> and <code>venv_file_number</code> to <code>TaskGroupV2</code> (#2034).</li>
<li>Add <code>TaskGroupV2.timestamp_last_used</code> column, updated on job submission (#2049, #2061, #2086).</li>
</ul>
</li>
<li>Task-lifecycle internals:<ul>
<li>Refactor task collection and database-session management in background tasks (#2030).</li>
<li>Update <code>TaskGroupActivityV2</code> objects (#2005).</li>
<li>Update filename and path for task-collection scripts (#2008).</li>
<li>Copy wheel file into <code>task_group.path</code> and update <code>task_group.wheel_path</code>, for local task collection (#2020).</li>
<li>Set <code>TaskGroupActivityV2.timestamp_ended</code> when collections terminate (#2026).</li>
<li>Refactor bash templates and add <code>install_from_freeze.sh</code> (#2029).</li>
<li>Introduce background operations for <em>local</em> reactivate/deactivate (#2033).</li>
<li>Introduce background operations for <em>SSH</em> reactivate/deactivate (#2066).</li>
<li>Fix escaping of newlines within f-strings, in logs (#2028).</li>
<li>Improve handling of task groups created before 2.9.0 (#2050).</li>
<li>Add <code>TaskGroupCreateV2Strict</code> for task collections (#2080).</li>
<li>Always create <code>script_dir_remote</code> in SSH lifecycle background tasks (#2089).</li>
<li>Postpone setting <code>active=False</code> in task-group deactivation to after all preliminary checks (#2100).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Improve error handling in <code>_zip_folder_to_file_and_remove</code> (#2057).</li>
<li>Improve error handling in <code>FractalSlurmSSHExecutor</code> <code>handshake</code> method (#2083).</li>
<li>Use the "spawn" start method for the multiprocessing context, for the <code>ProcessPoolExecutor</code>-based runner (#2084).</li>
<li>Extract common functionalities from SLURM/sudo and SLURM/SSH executors (#2107).</li>
</ul>
</li>
<li>SSH internals:<ul>
<li>Add <code>FractalSSH.remote_exists</code> method (#2008).</li>
<li>Drop <code>FractalSSH.{_get,_put}</code> wrappers of <code>SFTPClient</code> methods (#2077).</li>
<li>Try re-opening the connection in <code>FractalSSH.check_connection</code> when an error occurs (#2035).</li>
<li>Move <code>NoValidConnectionError</code> exception handling into <code>FractalSSH.log_and_raise</code> method (#2070).</li>
<li>Improve closed-socket testing (#2076).</li>
</ul>
</li>
<li>App:</li>
<li>Add <code>FRACTAL_VIEWER_AUTHORIZATION_SCHEME</code> and <code>FRACTAL_VIEWER_BASE_FOLDER</code> configuration variables (#2096).</li>
<li>Testing:<ul>
<li>Drop <code>fetch-depth</code> from <code>checkout</code> in GitHub actions (#2039).</li>
</ul>
</li>
<li>Scripts:<ul>
<li>Introduce <code>scripts/export_v1_workflows.py</code> (#2043).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Remove <code>passlib</code> dependency (#2112).</li>
<li>Bump <code>fastapi-users</code> to v14, which includes switch to <code>pwdlib</code> (#2112).</li>
</ul>
</li>
</ul>
<h1 id="281">2.8.1<a class="headerlink" href="#281" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Validate all user-provided strings that end up in pip-install commands (#2003).</li>
</ul>
</li>
</ul>
<h1 id="280">2.8.0<a class="headerlink" href="#280" title="Permanent link">&para;</a></h1>
<ul>
<li>Task collection<ul>
<li>Now both the local and SSH versions of the task collection use the bash templates (#1980).</li>
<li>Update task-collections database logs incrementally (#1980).</li>
<li>Add <code>TaskGroupV2.pinned_package_versions_string</code> property (#1980).</li>
<li>Support pinned-package versions for SSH task collection (#1980).</li>
<li>Now <code>pip install</code> uses <code>--no-cache</code> (#1980).</li>
</ul>
</li>
<li>API<ul>
<li>Deprecate the <code>verbose</code> query parameter in <code>GET /api/v2/task/collect/{state_id}/</code> (#1980).</li>
<li>Add <code>project_dir</code> attribute to <code>UserSettings</code> (#1990).</li>
<li>Set a default for <code>DatasetV2.zarr_dir</code> (#1990).</li>
<li>Combine the <code>args_schema_parallel</code> and <code>args_schema_non_parallel</code> query parameters in <code>GET /api/v2/task/</code> into a single parameter <code>args_schema</code> (#1998).</li>
</ul>
</li>
</ul>
<h1 id="271">2.7.1<a class="headerlink" href="#271" title="Permanent link">&para;</a></h1>
<blockquote>
<p>WARNING: As of this version, all extras for <code>pip install</code> are deprecated and
the corresponding dependencies become required.</p>
</blockquote>
<ul>
<li>Database:<ul>
<li>Drop <code>TaskV2.owner</code> column (#1977).</li>
<li>Make <code>TaskV2.taskgroupv2_id</code> column required (#1977).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Make <code>psycopg[binary]</code> dependency required, and drop <code>postgres-pyscopg-binary</code> extra (#1970).</li>
<li>Make <code>gunicorn</code> dependency required, and drop <code>gunicorn</code> extra (#1970).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Switch from SQLite to Postgres in the OAuth Github action (#1981).</li>
</ul>
</li>
</ul>
<h1 id="270">2.7.0<a class="headerlink" href="#270" title="Permanent link">&para;</a></h1>
<blockquote>
<p>WARNING: This release comes with several specific notes:</p>
<ol>
<li>It requires running <code>fractalctl update-db-data</code> (after <code>fractalctl set-db</code>).</li>
<li>When running <code>fractalctl update-db-data</code>, the environment variable
   <code>FRACTAL_V27_DEFAULT_USER_EMAIL</code> must be set, e.g. as in
   <code>FRACTAL_V27_DEFAULT_USER_EMAIL=admin@fractal.yx fractalctl
   update-db-data</code>. This user must exist, and they will own all
   previously-common tasks/task-groups.</li>
<li>The pip extra <code>postgres</code> is deprecated, in favor of <code>postgres-psycopg-binary</code>.</li>
<li>The configuration variable <code>DB_ENGINE="postgres"</code> is deprecated, in favor of <code>DB_ENGINE="postgres-psycopg"</code>.</li>
<li>Python3.9 is deprecated.</li>
</ol>
</blockquote>
<ul>
<li>API:<ul>
<li>Users and user groups:<ul>
<li>Replace <code>UserRead.group_names</code> and <code>UserRead.group_ids</code> with <code>UserRead.group_ids_names</code> ordered list (#1844, #1850).</li>
<li>Deprecate <code>GET /auth/group-names/</code> (#1844).</li>
<li>Add <code>DELETE /auth/group/{id}/</code> endpoint (#1885).</li>
<li>Add <code>PATCH auth/group/{group_id}/user-settings/</code> bulk endpoint (#1936).</li>
</ul>
</li>
<li>Task groups:<ul>
<li>Introduce <code>/api/v2/task-group/</code> routes (#1817, #1847, #1852, #1856, #1943).</li>
<li>Respond with 422 error when any task-creating endpoint would break a non-duplication constraint (#1861).</li>
<li>Enforce non-duplication constraints on <code>TaskGroupV2</code> (#1865).</li>
<li>Fix non-duplication check in <code>PATCH /api/v2/task-group/{id}/</code> (#1911).</li>
<li>Add cascade operations to <code>DELETE /api/v2/task-group/{task_group_id}/</code> and to <code>DELETE /admin/v2/task-group/{task_group_id}/</code> (#1867).</li>
<li>Expand use and validators for <code>TaskGroupCreateV2</code> schema (#1861).</li>
<li>Do not process task <code>source</code>s in task/task-group CRUD operations (#1861).</li>
<li>Do not process task <code>owner</code>s in task/task-group CRUD operations (#1861).</li>
</ul>
</li>
<li>Tasks:<ul>
<li>Drop <code>TaskCreateV2.source</code> (#1909).</li>
<li>Drop <code>TaskUpdateV2.version</code> (#1905).</li>
<li>Revamp access-control for <code>/api/v2/task/</code> endpoints, based on task-group attributes (#1817).</li>
<li>Update <code>/api/v2/task/</code> endpoints and schemas with new task attributes (#1856).</li>
<li>Forbid changing <code>TaskV2.name</code> (#1925).</li>
</ul>
</li>
<li>Task collection:<ul>
<li>Improve preliminary checks in task-collection endpoints (#1861).</li>
<li>Refactor split between task-collection endpoints and background tasks (#1861).</li>
<li>Create <code>TaskGroupV2</code> object within task-collection endpoints (#1861).</li>
<li>Fix response of task-collection endpoint (#1902).</li>
<li>Automatically discover PyPI package version if missing or invalid (#1858, #1861, #1902).</li>
<li>Use appropriate log-file path in collection-status endpoint (#1902).</li>
<li>Add task <code>authors</code> to manifest schema (#1856).</li>
<li>Do not use <code>source</code> for custom task collection (#1893).</li>
<li>Rename custom-task-collection request-body field from <code>source</code> to <code>label</code> (#1896).</li>
<li>Improve error messages from task collection (#1913).</li>
<li>Forbid non-unique task names in <code>ManifestV2</code> (#1925).</li>
</ul>
</li>
<li>Workflows and workflow tasks:<ul>
<li>Introduce additional checks in POST-workflowtask endpoint, concerning non-active or non-accessible tasks (#1817).</li>
<li>Introduce additional intormation in GET-workflow endpoint, concerning non-active or non-accessible tasks (#1817).</li>
<li>Introduce additional intormation in PATCH-workflow endpoint, concerning non-active or non-accessible tasks (#1868, #1869).</li>
<li>Stop logging warnings for non-common tasks in workflow export (#1893).</li>
<li>Drop <code>WorkflowTaskCreateV2.order</code> (#1906).</li>
<li>Update endpoints for workflow import/export  (#1925, #1939, #1960).</li>
</ul>
</li>
<li>Datasets:<ul>
<li>Remove <code>TaskDumpV2.owner</code> attribute (#1909).</li>
</ul>
</li>
<li>Jobs:<ul>
<li>Prevent job submission if includes non-active or non-accessible tasks (#1817).</li>
<li>Remove rate limit for <code>POST /project/{project_id}/job/submit/</code> (#1944).</li>
</ul>
</li>
<li>Admin:<ul>
<li>Remove <code>owner</code> from <code>GET admin/v2/task/</code> (#1909).</li>
<li>Deprecate <code>kind</code> query parameter for <code>/admin/v2/task/</code> (#1893).</li>
<li>Add <code>origin</code> and <code>pkg_name</code> query parameters to <code>GET /admin/v2/task-group/</code> (#1979).</li>
</ul>
</li>
<li>Schemas:<ul>
<li>Forbid extras in <code>TaskCollectPipV2</code> (#1891).</li>
<li>Forbid extras in all Create/Update/Import schemas (#1895).</li>
<li>Deprecate internal <code>TaskCollectPip</code> schema in favor of <code>TaskGroupV2</code> (#1861).</li>
</ul>
</li>
</ul>
</li>
<li>Database:<ul>
<li>Introduce <code>TaskGroupV2</code> table (#1817, #1856).</li>
<li>Add  <code>timestamp_created</code> column to <code>LinkUserGroup</code> table (#1850).</li>
<li>Add <code>TaskV2</code> attributes <code>authors</code>, <code>tags</code>, <code>category</code> and <code>modality</code> (#1856).</li>
<li>Add <code>update-db-data</code> script (#1820, #1888).</li>
<li>Add <code>taskgroupv2_id</code> foreign key to <code>CollectionStateV2</code> (#1867).</li>
<li>Make <code>TaskV2.source</code> nullable and drop its uniqueness constraint (#1861).</li>
<li>Add <code>TaskGroupV2</code> columns <code>wheel_path</code>, <code>pinned_package_versions</code> (#1861).</li>
<li>Clean up <code>alembic</code> migration scripts (#1894).</li>
<li>Verify task-group non-duplication constraint in <code>2.7.0</code> data-migration script (#1927).</li>
<li>Normalize <code>pkg_name</code> in <code>2.7.0</code> data-migration script (#1930).</li>
<li>Deprecate <code>DB_ENGINE="postgres"</code> configuration variable (#1946).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Do not create local folders with 755 permissions unless <code>FRACTAL_BACKEND_RUNNER="slurm"</code> (#1923).</li>
<li>Fix bug of SSH/SFTP commands not acquiring lock (#1949).</li>
<li>Fix bug of unhandled exception in SSH/SLURM executor (#1963).</li>
<li>Always remove task-subfolder compressed archive (#1949).</li>
</ul>
</li>
<li>Task collection:<ul>
<li>Create base directory (in SSH mode), if missing (#1949).</li>
<li>Fix bug of SSH/SFTP commands not acquiring lock (#1949).</li>
</ul>
</li>
<li>SSH:<ul>
<li>Improve logging for SSH-connection-locking flow (#1949).</li>
<li>Introduce <code>FractalSSH.fetch_file</code> and <code>FractalSSH.read_remote_json_file</code> (#1949).</li>
<li>Use <code>paramiko.sftp_client.SFTPClient</code> methods directly rathen than <code>fabric</code> wrappers (#1949).</li>
<li>Disable prefetching for <code>SFTPClient.get</code> (#1949).</li>
</ul>
</li>
<li>Internal:<ul>
<li>Update <code>_create_first_group</code> so that it only searches for <code>UserGroups</code> with a given name (#1964).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Bump fastapi to <code>0.115</code> (#1942).</li>
<li>Remove pip extra <code>postgres</code>, corresponding to <code>psycopg2+asyncpg</code> (#1946).</li>
<li>Deprecate python3.9 (#1946).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Benchmark <code>GET /api/v2/task-group/</code> (#1922).</li>
<li>Use new <code>ubuntu22-slurm-multipy</code> image, with Python3.12 and with Python-version specific venvs (#1946, #1969).</li>
<li>Get <code>DB_ENGINE</code> variable from <code>os.environ</code> rather than from installed packages (#1968).</li>
</ul>
</li>
</ul>
<h1 id="264">2.6.4<a class="headerlink" href="#264" title="Permanent link">&para;</a></h1>
<ul>
<li>Database<ul>
<li>Fix use of naming convention for database schema-migration scripts (#1819).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Test <code>alembic downgrade base</code> (#1819).</li>
<li>Add <code>GET /api/v2/task/</code> to benchmarks (#1825).</li>
</ul>
</li>
</ul>
<h1 id="263">2.6.3<a class="headerlink" href="#263" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Introduce <code>GET /auth/current-user/viewer-paths/</code> endpoint (#1816).</li>
<li>Add <code>viewer_paths</code> attribute to <code>UserGroup</code> endpoints (#1816).</li>
</ul>
</li>
<li>Database:<ul>
<li>Add  <code>viewer_paths</code> column to <code>UserGroup</code> table (#1816).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Anticipate <code>wait_thread.shutdown_callback</code> assignment in <code>FractalSlurmExecutor</code>, to avoid an uncaught exception (#1815).</li>
</ul>
</li>
</ul>
<h1 id="262">2.6.2<a class="headerlink" href="#262" title="Permanent link">&para;</a></h1>
<ul>
<li>Allow setting <code>UserSettings</code> attributes to <code>None</code> in standard/strict PATCH endpoints (#1814).</li>
</ul>
<h1 id="261">2.6.1<a class="headerlink" href="#261" title="Permanent link">&para;</a></h1>
<ul>
<li>App (internal):<ul>
<li>Remove <code>FRACTAL_SLURM_SSH_HOST</code>, <code>FRACTAL_SLURM_SSH_USER</code>, <code>FRACTAL_SLURM_SSH_PRIVATE_KEY_PATH</code> and <code>FRACTAL_SLURM_SSH_WORKING_BASE_DIR</code> from <code>Settings</code>  (#1804).</li>
</ul>
</li>
<li>Database:<ul>
<li>Drop <code>slurm_user</code>, <code>slurm_accounts</code> and <code>cache_dir</code> columns from <code>UserOAuth</code> (#1804)</li>
</ul>
</li>
</ul>
<h1 id="260">2.6.0<a class="headerlink" href="#260" title="Permanent link">&para;</a></h1>
<blockquote>
<p>WARNING: This release requires running <code>fractalctl update-db-data</code> (after <code>fractalctl set-db</code>).</p>
</blockquote>
<ul>
<li>API:<ul>
<li>Introduce user-settings API, in <code>/auth/users/{user_id}/settings/</code> and <code>/auth/current-user/settings/</code> (#1778, #1807).</li>
<li>Add the creation of empty settings to <code>UserManager.on_after_register</code> hook (#1778).</li>
<li>Remove deprecated user's attributes (<code>slurm_user</code>, <code>cache_dir</code>, <code>slurm_accounts</code>) from API, in favor of new <code>UserSetting</code> ones (#1778).</li>
<li>Validate user settings in endpoints that rely on them (#1778).</li>
<li>Propagate user settings to background tasks when needed (#1778).</li>
</ul>
</li>
<li>Database:<ul>
<li>Introduce new <code>user_settings</code> table, and link it to <code>user_oauth</code> (#1778).</li>
</ul>
</li>
<li>Internal:</li>
<li>Remove redundant string validation in <code>FractalSSH.remove_folder</code> and <code>TaskCollectCustomV2</code> (#1810).</li>
<li>Make <code>validate_cmd</code> more strict about non-string arguments (#1810).</li>
</ul>
<h1 id="252">2.5.2<a class="headerlink" href="#252" title="Permanent link">&para;</a></h1>
<ul>
<li>App:<ul>
<li>Replace <code>fractal_ssh</code> attribute with <code>fractal_ssh_list</code>, in <code>app.state</code> (#1790).</li>
<li>Move creation of SSH connections from app startup to endpoints (#1790).</li>
</ul>
</li>
<li>Internal<ul>
<li>Introduce <code>FractalSSHList</code>, in view of support for multiple SSH/Slurm service users (#1790).</li>
<li>Make <code>FractalSSH.close()</code> more aggressively close <code>Transport</code> attribute (#1790).</li>
<li>Set <code>look_for_keys=False</code> for paramiko/fabric connection (#1790).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Add fixture to always test that threads do not accumulate during tests (#1790).</li>
</ul>
</li>
</ul>
<h1 id="251">2.5.1<a class="headerlink" href="#251" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Make <code>WorkflowTaskDumpV2</code> attributes <code>task_id</code> and <code>task</code> optional (#1784).</li>
<li>Add validation for user-provided strings that execute commands with subprocess or remote-shell (#1767).</li>
</ul>
</li>
<li>Runner and task collection:<ul>
<li>Validate commands before running them via <code>subprocess</code> or <code>fabric</code> (#1767).</li>
</ul>
</li>
</ul>
<h1 id="250">2.5.0<a class="headerlink" href="#250" title="Permanent link">&para;</a></h1>
<blockquote>
<p>WARNING: This release has a minor API bug when displaying a V2 dataset with a history that contains legacy tasks. It's recommended to update to 2.5.1.</p>
</blockquote>
<p>This release removes support for including V1 tasks in V2 workflows. This comes
with changes to the database (data and metadata), to the API, and to the V2
runner.</p>
<ul>
<li>Runner:<ul>
<li>Deprecate running v1 tasks within v2 workflows (#1721).</li>
</ul>
</li>
<li>Database:<ul>
<li>Remove <code>Task.is_v2_compatible</code> column (#1721).</li>
<li>For table <code>WorkflowTaskV2</code>, drop <code>is_legacy_task</code> and <code>task_legacy_id</code> columns, remove <code>task_legacy</code> ORM attribute, make <code>task_id</code> required, make <code>task</code> required (#1721).</li>
</ul>
</li>
<li>API:<ul>
<li>Drop v1-v2-task-compatibility admin endpoint (#1721).</li>
<li>Drop <code>/task-legacy/</code> endpoint (#1721).</li>
<li>Remove legacy task code branches from <code>WorkflowTaskV2</code> CRUD endpoints (#1721).</li>
<li>Add OAuth accounts info to <code>UserRead</code> at <code>.oauth_accounts</code> (#1765).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Improve OAuth Github Action to test OAuth account flow (#1765).</li>
</ul>
</li>
</ul>
<h1 id="242">2.4.2<a class="headerlink" href="#242" title="Permanent link">&para;</a></h1>
<ul>
<li>App:<ul>
<li>Improve logging in <code>fractalctl set-db</code> (#1764).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Add <code>--set-home</code> to <code>sudo -u</code> impersonation command, to fix Ubuntu18 behavior (#1762).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Start tests of migrations from valid v2.4.0 database (#1764).</li>
</ul>
</li>
</ul>
<h1 id="241">2.4.1<a class="headerlink" href="#241" title="Permanent link">&para;</a></h1>
<p>This is mainly a bugfix release, re-implementing a check that was removed in 2.4.0.</p>
<ul>
<li>API:<ul>
<li>Re-introduce check for existing-user-email in <code>PATCH /auth/users/{id}/</code> (#1760).</li>
</ul>
</li>
</ul>
<h1 id="240">2.4.0<a class="headerlink" href="#240" title="Permanent link">&para;</a></h1>
<p>This release introduces support for user groups, but without linking it to any
access-control rules (which will be introduced later).</p>
<blockquote>
<p>NOTE: This release requires running the <code>fractalctl update-db-data</code> script.</p>
</blockquote>
<ul>
<li>App:<ul>
<li>Move creation of first user from application startup into <code>fractalctl set-db</code> command (#1738, #1748).</li>
<li>Add creation of default user group into <code>fractalctl set-db</code> command (#1738).</li>
<li>Create <code>update-db-script</code> for current version, that adds all users to default group (#1738).</li>
</ul>
</li>
<li>API:<ul>
<li>Added <code>/auth/group/</code> and <code>/auth/group-names/</code> routers (#1738, #1752).</li>
<li>Implement <code>/auth/users/{id}/</code> POST/PATCH routes in <code>fractal-server</code> (#1738, #1747, #1752).</li>
<li>Introduce <code>UserUpdateWithNewGroupIds</code> schema for <code>PATCH /auth/users/{id}/</code> (#1747, #1752).</li>
<li>Add <code>UserManager.on_after_register</code> hook to add new users to default user group (#1738).</li>
</ul>
</li>
<li>Database:<ul>
<li>Added new <code>usergroup</code> and <code>linkusergroup</code> tables (#1738).</li>
</ul>
</li>
<li>Internal<ul>
<li>Refactored <code>fractal_server.app.auth</code> and <code>fractal_server.app.security</code> (#1738)/</li>
<li>Export all relevant modules in <code>app.models</code>, since it matters e.g. for <code>autogenerate</code>-ing migration scripts (#1738).</li>
</ul>
</li>
<li>Testing<ul>
<li>Add <code>UserGroup</code> validation to <code>scripts/validate_db_data_with_read_schemas.py</code> (#1746).</li>
</ul>
</li>
</ul>
<h1 id="2311">2.3.11<a class="headerlink" href="#2311" title="Permanent link">&para;</a></h1>
<ul>
<li>SSH runner:<ul>
<li>Move remote-folder creation from <code>submit_workflow</code> to more specific <code>_process_workflow</code> (#1728).</li>
</ul>
</li>
<li>Benchmarks:<ul>
<li>Add <code>GET /auth/token/login/</code> to tested endpoints (#1720).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Update GitHub actions <code>upload-artifact</code> and <code>download-artifact</code> to <code>v4</code> (#1725).</li>
</ul>
</li>
</ul>
<h1 id="2310">2.3.10<a class="headerlink" href="#2310" title="Permanent link">&para;</a></h1>
<ul>
<li>Fix minor bug in zipping-job logging (#1716).</li>
</ul>
<h1 id="239">2.3.9<a class="headerlink" href="#239" title="Permanent link">&para;</a></h1>
<ul>
<li>Add logging for zipping-job-folder operations (#1714).</li>
</ul>
<h1 id="238">2.3.8<a class="headerlink" href="#238" title="Permanent link">&para;</a></h1>
<blockquote>
<p>NOTE: <code>FRACTAL_API_V1_MODE="include_without_submission"</code> is now transformed
into <code>FRACTAL_API_V1_MODE="include_read_only"</code>.</p>
</blockquote>
<ul>
<li>API:<ul>
<li>Support read-only mode for V1 (#1701).</li>
<li>Improve handling of zipped job-folder in download-logs endpoints (#1702).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Improve database-error handling in V2 job execution (#1702).</li>
<li>Zip job folder after job execution (#1702).</li>
</ul>
</li>
<li>App:<ul>
<li><code>UvicornWorker</code> is now imported from <code>uvicorn-worker</code> (#1690).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Remove <code>HAS_LOCAL_SBATCH</code> variable and related if-branches (#1699).</li>
</ul>
</li>
<li>Benchmarks:<ul>
<li>Add <code>GET /auth/current-user/</code> to tested endpoints (#1700).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Update <code>mkdocstrings</code> to <code>^0.25.2</code> (#1707).</li>
<li>Update <code>fastapi</code> to <code>^0.112.0</code> (#1705).</li>
</ul>
</li>
</ul>
<h1 id="237">2.3.7<a class="headerlink" href="#237" title="Permanent link">&para;</a></h1>
<ul>
<li>SSH SLURM executor:<ul>
<li>Handle early shutdown in SSH executor (#1696).</li>
</ul>
</li>
<li>Task collection:<ul>
<li>Introduce a new configuration variable <code>FRACTAL_MAX_PIP_VERSION</code> to pin task-collection pip (#1675).</li>
</ul>
</li>
</ul>
<h1 id="236">2.3.6<a class="headerlink" href="#236" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>When creating a WorkflowTask, do not pre-populate its top-level arguments based on JSON Schema default values (#1688).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Update <code>sqlmodel</code> to <code>^0.0.21</code> (#1674).</li>
<li>Add <code>uvicorn-worker</code> (#1690).</li>
</ul>
</li>
</ul>
<h1 id="235">2.3.5<a class="headerlink" href="#235" title="Permanent link">&para;</a></h1>
<blockquote>
<p>WARNING: The <code>pre_submission_commands</code> SLURM configuration is included as an
experimental feature, since it is still not useful for its main intended
goal (calling <code>module load</code> before running <code>sbatch</code>).</p>
</blockquote>
<ul>
<li>SLURM runners:<ul>
<li>Expose <code>gpus</code> SLURM parameter (#1678).</li>
<li>For SSH executor, add <code>pre_submission_commands</code> (#1678).</li>
<li>Removed obsolete arguments from <code>get_slurm_config</code> function (#1678).</li>
</ul>
</li>
<li>SSH features:<ul>
<li>Add <code>FractalSSH.write_remote_file</code> method (#1678).</li>
</ul>
</li>
</ul>
<h1 id="234">2.3.4<a class="headerlink" href="#234" title="Permanent link">&para;</a></h1>
<ul>
<li>SSH SLURM runner:<ul>
<li>Refactor <code>compress_folder</code> and <code>extract_archive</code> modules, and stop using <code>tarfile</code> library (#1641).</li>
</ul>
</li>
<li>API:<ul>
<li>Introduce <code>FRACTAL_API_V1_MODE=include_without_submission</code> to include V1 API but forbid job submission (#1664).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Do not test V1 API with <code>DB_ENGINE="postgres-psycopg"</code> (#1667).</li>
<li>Use new Fractal SLURM containers in CI (#1663).</li>
<li>Adapt tests so that they always refer to the current Python version (the one running <code>pytest</code>), when needed; this means that we don't require the presence of any additional Python version in the development environment, apart from the current one (#1633).</li>
<li>Include Python3.11 in some tests (#1669).</li>
<li>Simplify CI SLURM Dockerfile after base-image updates (#1670).</li>
<li>Cache <code>ubuntu22-slurm-multipy</code> Docker image in CI (#1671).</li>
<li>Add <code>oauth.yaml</code> GitHub action to test OIDC authentication (#1665).</li>
</ul>
</li>
</ul>
<h1 id="233">2.3.3<a class="headerlink" href="#233" title="Permanent link">&para;</a></h1>
<p>This release fixes a SSH-task-collection bug introduced in version 2.3.1.</p>
<ul>
<li>API:<ul>
<li>Expose new superuser-restricted endpoint <code>GET /api/settings/</code> (#1662).</li>
</ul>
</li>
<li>SLURM runner:<ul>
<li>Make <code>FRACTAL_SLURM_SBATCH_SLEEP</code> configuration variable <code>float</code> (#1658).</li>
</ul>
</li>
<li>SSH features:<ul>
<li>Fix wrong removal of task-package folder upon task-collection failure (#1649).</li>
<li>Remove <code>FractalSSH.rename_folder</code> method (#1654).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Refactor task-collection fixtures (#1637).</li>
</ul>
</li>
</ul>
<h1 id="232">2.3.2<a class="headerlink" href="#232" title="Permanent link">&para;</a></h1>
<blockquote>
<p><strong>WARNING</strong>: The remove-remote-venv-folder in the SSH task collection is broken (see issue 1633). Do not deploy this version in an SSH-based <code>fractal-server</code> instance.</p>
</blockquote>
<ul>
<li>API:<ul>
<li>Fix incorrect zipping of structured job-log folders (#1648).</li>
</ul>
</li>
</ul>
<h1 id="231">2.3.1<a class="headerlink" href="#231" title="Permanent link">&para;</a></h1>
<p>This release includes a bugfix for task names with special characters.</p>
<blockquote>
<p><strong>WARNING</strong>: The remove-remote-venv-folder in the SSH task collection is broken (see issue 1633). Do not deploy this version in an SSH-based <code>fractal-server</code> instance.</p>
</blockquote>
<ul>
<li>Runner:<ul>
<li>Improve sanitization of subfolder names (commits from 3d89d6ba104d1c6f11812bc9de5cbdff25f81aa2 to 426fa3522cf2eef90d8bd2da3b2b8a5b646b9bf4).</li>
</ul>
</li>
<li>API:<ul>
<li>Improve error message when task-collection Python is not defined (#1640).</li>
<li>Use a single endpoint for standard and SSH task collection (#1640).</li>
</ul>
</li>
<li>SSH features:<ul>
<li>Remove remote venv folder upon failed task collection in SSH mode (#1634, #1640).</li>
<li>Refactor <code>FractalSSH</code> (#1635).</li>
<li>Set <code>fabric.Connection.forward_agent=False</code> (#1639).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Improved testing of SSH task-collection API (#1640).</li>
<li>Improved testing of <code>FractalSSH</code> methods (#1635).</li>
<li>Stop testing SQLite database for V1 in CI (#1630).</li>
</ul>
</li>
</ul>
<h1 id="230">2.3.0<a class="headerlink" href="#230" title="Permanent link">&para;</a></h1>
<p>This release includes two important updates:
1. An Update update to task-collection configuration variables and logic.
2. The first released version of the <strong>experimental</strong> SSH features.</p>
<p>Re: task-collection configuration, we now support two main use cases:</p>
<ol>
<li>
<p>When running a production instance (including on a SLURM cluster), you
   should set e.g. <code>FRACTAL_TASKS_PYTHON_DEFAULT_VERSION=3.10</code>, and make sure
   that <code>FRACTAL_TASKS_PYTHON_3_10=/some/python</code> is an absolute path. Optionally,
   you can define other variables like <code>FRACTAL_TASKS_PYTHON_3_9</code>,
   <code>FRACTAL_TASKS_PYTHON_3_11</code> or <code>FRACTAL_TASKS_PYTHON_3_12</code>.</p>
</li>
<li>
<p>If you leave <code>FRACTAL_TASKS_PYTHON_DEFAULT_VERSION</code> unset, then only the
   Python interpreter that is currently running <code>fractal-server</code> can be used
   for task collection.</p>
</li>
</ol>
<blockquote>
<p>WARNING: If you don't set <code>FRACTAL_TASKS_PYTHON_DEFAULT_VERSION</code>, then you
will only have a single Python interpreter available for tasks (namely the
one running <code>fractal-server</code>).</p>
</blockquote>
<ul>
<li>API:<ul>
<li>Introduce <code>api/v2/task/collect/custom/</code> endpoint (#1607, #1613, #1617, #1629).</li>
</ul>
</li>
<li>Task collection:<ul>
<li>Introduce task-collection Python-related configuration variables (#1587).</li>
<li>Always set Python version for task collection, and only use <code>FRACTAL_TASKS_PYTHON_X_Y</code> variables (#1587).</li>
<li>Refactor task-collection functions and schemas (#1587, #1617).</li>
<li>Remove <code>TaskCollectStatusV2</code> and <code>get_collection_data</code> internal schema/function (#1598).</li>
<li>Introduce <code>CollectionStatusV2</code> enum for task-collection status (#1598).</li>
<li>Reject task-collection request if it includes a wheel file and a version (#1608).
SSH features:</li>
<li>Introduce <code>fractal_server/ssh</code> subpackage (#1545, #1599, #1611).</li>
<li>Introduce SSH executor and runner (#1545).</li>
<li>Introduce SSH task collection (#1545, #1599, #1626).</li>
<li>Introduce SSH-related configuration variables (#1545).</li>
<li>Modify app lifespan to handle SSH connection (#1545).</li>
<li>Split <code>app/runner/executor/slurm</code> into <code>sudo</code> and <code>ssh</code> subfolders (#1545).</li>
<li>Introduce FractalSSH object which is a wrapper class around fabric.Connection object.
It provides a <code>lock</code> to avoid loss of ssh instructions and a custom timeout (#1618)</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Update <code>sqlmodel</code> to <code>^0.0.19</code> (#1584).</li>
<li>Update <code>pytest-asyncio</code> to <code>^0.23</code> (#1558).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Test the way <code>FractalProcessPoolExecutor</code> spawns processes and threads (#1579).</li>
<li>Remove <code>event_loop</code> fixture: every test will run on its own event loop (#1558).</li>
<li>Test task collection with non-canonical package name (#1602).</li>
</ul>
</li>
</ul>
<h1 id="220">2.2.0<a class="headerlink" href="#220" title="Permanent link">&para;</a></h1>
<p>This release streamlines options for the Gunicorn startup command, and includes
two new experimental features.</p>
<blockquote>
<p>NOTE 1: you can now enable custom Gunicorn worker/logger by adding the following
options to the <code>gunicorn</code> startup command:
- <code>--worker-class fractal_server.gunicorn_fractal.FractalWorker</code>
- <code>--logger-class fractal_server.gunicorn_fractal.FractalGunicornLogger</code></p>
<p>NOTE 2: A new experimental local runner is available, which uses processes
instead of threads and support shutdown. You can try it out with the
configuration variable <code>FRACTAL_BACKEND_RUNNER=local_experimental</code></p>
<p>NOTE 3: A new PostgreSQL database adapter is available, fully based on
<code>psycopg3</code> (rather than <code>pyscopg2</code>+<code>asyncpg</code>). You can try it out with the
configuration variable <code>DB_ENGINE=postgres-psycopg</code> (note that this requires
the <code>pip install</code> extra <code>postgres-psycopg-binary</code>).</p>
</blockquote>
<ul>
<li>API:<ul>
<li>Add extensive logs to <code>DELETE /api/v2/project/{project_id}</code> (#1532).</li>
<li>Remove catch of <code>IntegrityError</code> in <code>POST /api/v1/project</code> (#1530).</li>
</ul>
</li>
<li>App and deployment:<ul>
<li>Move <code>FractalGunicornLogger</code> and <code>FractalWorker</code> into <code>fractal_server/gunicorn_fractal.py</code> (#1535).</li>
<li>Add custom gunicorn/uvicorn worker to handle SIGABRT signal (#1526).</li>
<li>Store list of submitted jobs in app state (#1538).</li>
<li>Add logic for graceful shutdown for job slurm executors (#1547).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Change structure of job folders, introducing per-task subfolders (#1523).</li>
<li>Rename internal <code>workflow_dir</code> and <code>workflow_dir_user</code> variables to local/remote (#1534).</li>
<li>Improve handling of errors in <code>submit_workflow</code> background task (#1556, #1566).</li>
<li>Add new <code>local_experimental</code> runner, based on <code>ProcessPoolExecutor</code> (#1544, #1566).</li>
</ul>
</li>
<li>Database:<ul>
<li>Add new Postgres adapter <code>psycopg</code> (#1562).</li>
</ul>
</li>
<li>Dependencies<ul>
<li>Add <code>fabric</code> to <code>dev</code> dependencies (#1518).</li>
<li>Add new <code>postgres-psycopg-binary</code> extra (#1562).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Extract <code>pytest-docker</code> fixtures into a dedicated module (#1516).</li>
<li>Rename SLURM containers in CI (#1516).</li>
<li>Install and run SSH daemon in CI containers (#1518).</li>
<li>Add unit test of SSH connection via fabric/paramiko (#1518).</li>
<li>Remove obsolete folders from <code>tests/data</code> (#1517).</li>
</ul>
</li>
</ul>
<h1 id="210">2.1.0<a class="headerlink" href="#210" title="Permanent link">&para;</a></h1>
<p>This release fixes a severe bug where SLURM-executor auxiliary threads are
not joined when a Fractal job ends.</p>
<ul>
<li>App:<ul>
<li>Add missing join for <code>wait_thread</code> upon <code>FractalSlurmExecutor</code> exit (#1511).</li>
<li>Replace <code>startup</code>/<code>shutdown</code> events with <code>lifespan</code> event (#1501).</li>
</ul>
</li>
<li>API:<ul>
<li>Remove <code>Path.resolve</code> from the submit-job endpoints and add validator for <code>Settings.FRACTAL_RUNNER_WORKING_BASE_DIR</code> (#1497).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Improve dockerfiles for SLURM (#1495, #1496).</li>
<li>Set short timeout for <code>docker compose down</code> (#1500).</li>
</ul>
</li>
</ul>
<h1 id="206">2.0.6<a class="headerlink" href="#206" title="Permanent link">&para;</a></h1>
<blockquote>
<p>NOTE: This version changes log formats.
For <code>uvicorn</code> logs, this change requires no action.
For <code>gunicorn</code>, logs formats are only changed by adding the following
command-line option:
<code>gunicorn ... --logger-class fractal_server.logger.gunicorn_logger.FractalGunicornLogger</code>.</p>
</blockquote>
<ul>
<li>API:<ul>
<li>Add <code>FRACTAL_API_V1_MODE</code> environment variable to include/exclude V1 API (#1480).</li>
<li>Change format of uvicorn loggers (#1491).</li>
<li>Introduce <code>FractalGunicornLogger</code> class (#1491).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Fix missing <code>.log</code> files in server folder for SLURM jobs (#1479).</li>
</ul>
</li>
<li>Database:<ul>
<li>Remove <code>UserOAuth.project_list</code> and <code>UserOAuth.project_list_v2</code> relationships (#1482).</li>
</ul>
</li>
<li>Dev dependencies:<ul>
<li>Bump <code>pytest</code> to <code>8.1.*</code> (#1486).</li>
<li>Bump <code>coverage</code> to <code>7.5.*</code> (#1486).</li>
<li>Bump <code>pytest-docker</code> to <code>3.1.*</code> (#1486).</li>
<li>Bump <code>pytest-subprocess</code> to <code>^1.5</code> (#1486).</li>
</ul>
</li>
<li>Benchmarks:<ul>
<li>Move <code>populate_db</code> scripts into <code>benchmark</code> folder (#1489).</li>
</ul>
</li>
</ul>
<h1 id="205">2.0.5<a class="headerlink" href="#205" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Add <code>GET /admin/v2/task/</code> (#1465).</li>
<li>Improve error message in DELETE-task endpoint (#1471).</li>
</ul>
</li>
<li>Set <code>JobV2</code> folder attributes from within the submit-job endpoint (#1464).</li>
<li>Tests:<ul>
<li>Make SLURM CI work on MacOS (#1476).</li>
</ul>
</li>
</ul>
<h1 id="204">2.0.4<a class="headerlink" href="#204" title="Permanent link">&para;</a></h1>
<ul>
<li>Add <code>FRACTAL_SLURM_SBATCH_SLEEP</code> configuration variable (#1467).</li>
</ul>
<h1 id="203">2.0.3<a class="headerlink" href="#203" title="Permanent link">&para;</a></h1>
<blockquote>
<p>WARNING: This update requires running a fix-db script, via <code>fractalctl update-db-data</code>.</p>
</blockquote>
<ul>
<li>Database:<ul>
<li>Create fix-db script to remove <code>images</code> and <code>history</code> from dataset dumps in V1/V2 jobs (#1456).</li>
</ul>
</li>
<li>Tests:<ul>
<li>Split <code>test_full_workflow_v2.py</code> into local/slurm files (#1454).</li>
</ul>
</li>
</ul>
<h1 id="202">2.0.2<a class="headerlink" href="#202" title="Permanent link">&para;</a></h1>
<blockquote>
<p>WARNING: Running this version on a pre-existing database (where the <code>jobsv2</code>
table has some entries) is broken. Running this version on a freshly-created
database works as expected.</p>
</blockquote>
<ul>
<li>API:<ul>
<li>Fix bug in status endpoint (#1449).</li>
<li>Improve handling of out-of-scope scenario in status endpoint (#1449).</li>
<li>Do not include dataset <code>history</code> in <code>JobV2.dataset_dump</code> (#1445).</li>
<li>Forbid extra arguments in <code>DumpV2</code> schemas (#1445).</li>
</ul>
</li>
<li>API V1:<ul>
<li>Do not include dataset <code>history</code> in <code>ApplyWorkflow.{input,output}_dataset_dump</code> (#1453).</li>
</ul>
</li>
<li>Move settings logs to <code>check_settings</code> and use fractal-server <code>set_logger</code> (#1452).</li>
<li>Benchmarks:<ul>
<li>Handle some more errors in benchmark flow (#1445).</li>
</ul>
</li>
<li>Tests:<ul>
<li>Update testing database to version 2.0.1 (#1445).</li>
</ul>
</li>
</ul>
<h1 id="201">2.0.1<a class="headerlink" href="#201" title="Permanent link">&para;</a></h1>
<ul>
<li>Database/API:<ul>
<li>Do not include <code>dataset_dump.images</code> in <code>JobV2</code> table (#1441).</li>
</ul>
</li>
<li>Internal functions:<ul>
<li>Introduce more robust <code>reset_logger_handlers</code> function (#1425).</li>
</ul>
</li>
<li>Benchmarks:<ul>
<li>Add <code>POST /api/v2/project/project_id/dataset/dataset_id/images/query/</code> in bechmarks  to evaluate the impact of the number of images during the query (#1441).</li>
</ul>
</li>
<li>Development:<ul>
<li>Use <code>poetry</code> 1.8.2 in GitHub actions and documentation.</li>
</ul>
</li>
</ul>
<h1 id="200">2.0.0<a class="headerlink" href="#200" title="Permanent link">&para;</a></h1>
<p>Major update.</p>
<h1 id="1410">1.4.10<a class="headerlink" href="#1410" title="Permanent link">&para;</a></h1>
<blockquote>
<p>WARNING: Starting from this version, the dependencies for the <code>slurm</code> extra
are required; commands like <code>pip install fractal-server[slurm,postgres]</code> must
be replaced by <code>pip install fractal-server[postgres]</code>.</p>
</blockquote>
<ul>
<li>Dependencies:<ul>
<li>Make <code>clusterfutures</code> and <code>cloudpickle</code> required dependencies (#1255).</li>
<li>Remove <code>slurm</code> extra from package (#1255).</li>
</ul>
</li>
<li>API:<ul>
<li>Handle invalid history file in <code>GET /project/{project_id}/dataset/{dataset_id}/status/</code> (#1259).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Add custom <code>_jobs_finished</code> function to check the job status and to avoid squeue errors (#1266)</li>
</ul>
</li>
</ul>
<h1 id="149">1.4.9<a class="headerlink" href="#149" title="Permanent link">&para;</a></h1>
<p>This release is a follow-up of 1.4.7 and 1.4.8, to mitigate the risk of
job folders becoming very large.</p>
<ul>
<li>Runner:<ul>
<li>Exclude <code>history</code> from <code>TaskParameters</code> object for parallel tasks, so that it does not end up in input pickle files (#1247).</li>
</ul>
</li>
</ul>
<h1 id="148">1.4.8<a class="headerlink" href="#148" title="Permanent link">&para;</a></h1>
<p>This release is a follow-up of 1.4.7, to mitigate the risk of job folders
becoming very large.</p>
<ul>
<li>Runner:<ul>
<li>Exclude <code>metadata["image"]</code> from <code>TaskParameters</code> object for parallel tasks, so that it does not end up in input pickle files (#1245).</li>
<li>Exclude components list from <code>workflow.log</code> logs (#1245).</li>
</ul>
</li>
<li>Database:<ul>
<li>Remove spurious logging of <code>fractal_server.app.db</code> string (#1245).</li>
</ul>
</li>
</ul>
<h1 id="147">1.4.7<a class="headerlink" href="#147" title="Permanent link">&para;</a></h1>
<p>This release provides a bugfix (PR 1239) and a workaround (PR 1238) for the
SLURM runner, which became relevant for the use case of processing a large
dataset (300 wells with 25 cycles each).</p>
<ul>
<li>Runner:<ul>
<li>Do not include <code>metadata["image"]</code> in JSON file with task arguments (#1238).</li>
<li>Add <code>FRACTAL_RUNNER_TASKS_INCLUDE_IMAGE</code> configuration variable, to define exceptions where tasks still require <code>metadata["image"]</code> (#1238).</li>
<li>Fix bug in globbing patterns, when copying files from user-side to server-side job folder in SLURM executor (#1239).</li>
</ul>
</li>
<li>API:<ul>
<li>Fix error message for rate limits in apply-workflow endpoint (#1231).</li>
</ul>
</li>
<li>Benchmarks:<ul>
<li>Add more scenarios, as per issue #1184 (#1232).</li>
</ul>
</li>
</ul>
<h1 id="146">1.4.6<a class="headerlink" href="#146" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Add <code>GET /admin/job/{job_id}</code> (#1230).</li>
<li>Handle <code>FileNotFound</code> in <code>GET /project/{project_id}/job/{job_id}/</code> (#1230).</li>
</ul>
</li>
</ul>
<h1 id="145">1.4.5<a class="headerlink" href="#145" title="Permanent link">&para;</a></h1>
<ul>
<li>Remove CORS middleware (#1228).</li>
<li>Testing:<ul>
<li>Fix <code>migrations.yml</code> GitHub action (#1225).</li>
</ul>
</li>
</ul>
<h1 id="144">1.4.4<a class="headerlink" href="#144" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Add rate limiting to <code>POST /{project_id}/workflow/{workflow_id}/apply/</code> (#1199).</li>
<li>Allow users to read the logs of ongoing jobs with <code>GET /project/{project_id}/job/{job_id}/</code>, using <code>show_tmp_logs</code> query parameter (#1216).</li>
<li>Add <code>log</code> query parameter in <code>GET {/api/v1/job/,/api/v1/{project.id}/job/,/admin/job/}</code>, to trim response body (#1218).</li>
<li>Add <code>args_schema</code> query parameter in <code>GET /api/v1/task/</code> to trim response body (#1218).</li>
<li>Add <code>history</code> query parameter in <code>GET {/api/v1/dataset/,/api/v1/project/{project.id}/dataset/}</code> to trim response body (#1219).</li>
<li>Remove <code>task_list</code> from <code>job.workflow_dump</code> creation in <code>/api/v1/{project_id}/workflow/{workflow_id}/apply/</code>(#1219)</li>
<li>Remove <code>task_list</code> from <code>WorkflowDump</code> Pydantic schema (#1219)</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Update fastapi to <code>^0.109.0</code> (#1222).</li>
<li>Update gunicorn to <code>^21.2.0</code> (#1222).</li>
<li>Update aiosqlite to <code>^0.19.0</code> (#1222).</li>
<li>Update uvicorn to <code>^0.27.0</code> (#1222).</li>
</ul>
</li>
</ul>
<h1 id="143">1.4.3<a class="headerlink" href="#143" title="Permanent link">&para;</a></h1>
<blockquote>
<p><strong>WARNING</strong>:</p>
<p>This update requires running a fix-db script, via <code>fractalctl update-db-data</code>.</p>
</blockquote>
<ul>
<li>API:<ul>
<li>Improve validation of <code>UserCreate.slurm_accounts</code> (#1162).</li>
<li>Add <code>timestamp_created</code> to <code>WorkflowRead</code>, <code>WorkflowDump</code>, <code>DatasetRead</code> and <code>DatasetDump</code> (#1152).</li>
<li>Make all dumps in <code>ApplyWorkflowRead</code> non optional (#1175).</li>
<li>Ensure that timestamps in <code>Read</code> schemas are timezone-aware, regardless of <code>DB_ENGINE</code> (#1186).</li>
<li>Add timezone-aware timestamp query parameters to all <code>/admin</code> endpoints (#1186).</li>
</ul>
</li>
<li>API (internal):<ul>
<li>Change the class method <code>Workflow.insert_task</code> into the auxiliary function <code>_workflow_insert_task</code> (#1149).</li>
</ul>
</li>
<li>Database:<ul>
<li>Make <code>WorkflowTask.workflow_id</code> and <code>WorkflowTask.task_id</code> not nullable (#1137).</li>
<li>Add <code>Workflow.timestamp_created</code> and <code>Dataset.timestamp_created</code> columns (#1152).</li>
<li>Start a new <code>current.py</code> fix-db script (#1152, #1195).</li>
<li>Add to <code>migrations.yml</code> a new script (<code>validate_db_data_with_read_schemas.py</code>) that validates test-DB data with Read schemas (#1187).</li>
<li>Expose <code>fix-db</code> scripts via command-line option <code>fractalctl update-db-data</code> (#1197).</li>
</ul>
</li>
<li>App (internal):<ul>
<li>Check in <code>Settings</code> that <code>psycopg2</code>, <code>asyngpg</code> and <code>cfut</code>, if required, are installed (#1167).</li>
<li>Split <code>DB.set_db</code> into sync/async methods (#1165).</li>
<li>Rename <code>DB.get_db</code> into <code>DB.get_async_db</code> (#1183).</li>
<li>Normalize names of task packages (#1188).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Update <code>clean_db_fractal_1.4.1.sql</code> to <code>clean_db_fractal_1.4.2.sql</code>, and change <code>migrations.yml</code> target version (#1152).</li>
<li>Reorganise the test directory into subdirectories, named according to the order in which we want the CI to execute them (#1166).</li>
<li>Split the CI into two independent jobs, <code>Core</code> and <code>Runner</code>, to save time through parallelisation (#1204).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Update <code>python-dotenv</code> to version 0.21.0 (#1172).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Remove <code>JobStatusType.RUNNING</code>, incorporating it into <code>JobStatusType.SUBMITTED</code> (#1179).</li>
</ul>
</li>
<li>Benchmarks:<ul>
<li>Add <code>fractal_client.py</code> and <code>populate_script_v2.py</code> for creating different database status scenarios (#1178).</li>
<li>Add a custom benchmark suite in <code>api_bench.py</code>.</li>
<li>Remove locust.</li>
</ul>
</li>
<li>Documentation:<ul>
<li>Add the minimum set of environment variables required to set the database and start the server (#1198).</li>
</ul>
</li>
</ul>
<h1 id="142">1.4.2<a class="headerlink" href="#142" title="Permanent link">&para;</a></h1>
<blockquote>
<p><strong>WARNINGs</strong>:</p>
<ol>
<li>This update requires running a fix-db script, available at <a href="https://raw.githubusercontent.com/fractal-analytics-platform/fractal-server/1.4.2/scripts/fix_db/current.py">https://raw.githubusercontent.com/fractal-analytics-platform/fractal-server/1.4.2/scripts/fix_db/current.py</a>.</li>
<li>Starting from this version, non-verified users have limited access to <code>/api/v1/</code> endpoints. Before the upgrade, all existing users must be manually set to verified.</li>
</ol>
</blockquote>
<ul>
<li>API:<ul>
<li>Prevent access to <code>GET/PATCH</code> task endpoints for non-verified users (#1114).</li>
<li>Prevent access to task-collection and workflow-apply endpoints for non-verified users (#1099).</li>
<li>Make first-admin-user verified (#1110).</li>
<li>Add the automatic setting of <code>ApplyWorkflow.end_timestamp</code> when patching <code>ApplyWorkflow.status</code> via <code>PATCH /admin/job/{job_id}</code> (#1121).</li>
<li>Change <code>ProjectDump.timestamp_created</code> type from <code>datetime</code> to <code>str</code> (#1120).</li>
<li>Change <code>_DatasetHistoryItem.workflowtask</code> type into <code>WorkflowTaskDump</code> (#1139).</li>
<li>Change status code of stop-job endpoints to 202 (#1151).</li>
</ul>
</li>
<li>API (internal):<ul>
<li>Implement cascade operations explicitly, in <code>DELETE</code> endpoints for datasets, workflows and projects (#1130).</li>
<li>Update <code>GET /project/{project_id}/workflow/{workflow_id}/job/</code> to avoid using <code>Workflow.job_list</code> (#1130).</li>
<li>Remove obsolete sync-database dependency from apply-workflow endpoint (#1144).</li>
</ul>
</li>
<li>Database:<ul>
<li>Add <code>ApplyWorkflow.project_dump</code> column (#1070).</li>
<li>Provide more meaningful names to fix-db scripts (#1107).</li>
<li>Add <code>Project.timestamp_created</code> column, with timezone-aware default (#1102, #1131).</li>
<li>Remove <code>Dataset.list_jobs_input</code> and <code>Dataset.list_jobs_output</code> relationships (#1130).</li>
<li>Remove <code>Workflow.job_list</code> (#1130).</li>
</ul>
</li>
<li>Runner:<ul>
<li>In SLURM backend, use <code>slurm_account</code> (as received from apply-workflow endpoint) with top priority (#1145).</li>
<li>Forbid setting of SLURM account from <code>WorkflowTask.meta</code> or as part of <code>worker_init</code> variable (#1145).</li>
<li>Include more info in error message upon <code>sbatch</code> failure (#1142).</li>
<li>Replace <code>sbatch</code> <code>--chdir</code> option with <code>-D</code>, to support also slurm versions before 17.11 (#1159).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Extended systematic testing of database models (#1078).</li>
<li>Review <code>MockCurrentUser</code> fixture, to handle different kinds of users (#1099).</li>
<li>Remove <code>persist</code> from <code>MockCurrentUser</code> (#1098).</li>
<li>Update <code>migrations.yml</code> GitHub Action to use up-to-date database and also test fix-db script (#1101).</li>
<li>Add more schema-based validation to fix-db current script (#1107).</li>
<li>Update <code>.dict()</code> to <code>.model_dump()</code> for <code>SQLModel</code> objects, to fix some <code>DeprecationWarnings</code>(##1133).</li>
<li>Small improvement in schema coverage (#1125).</li>
<li>Add unit test for <code>security</code> module (#1036).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Update <code>sqlmodel</code> to version 0.0.14 (#1124).</li>
</ul>
</li>
<li>Benchmarks:<ul>
<li>Add automatic benchmark system for API's performances (#1123)</li>
</ul>
</li>
<li>App (internal):<ul>
<li>Move <code>_create_first_user</code> from <code>main</code> to <code>security</code> module, and allow it to create multiple regular users (#1036).</li>
</ul>
</li>
</ul>
<h1 id="141">1.4.1<a class="headerlink" href="#141" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Add <code>GET /admin/job/{job_id}/stop/</code> and <code>GET /admin/job/{job_id}/download/</code> endpoints (#1059).</li>
<li>Use <code>DatasetDump</code> and <code>WorkflowDump</code> models for "dump" attributes of <code>ApplyWorkflowRead</code> (#1049, #1082).</li>
<li>Add <code>slurm_accounts</code> to <code>User</code> schemas and add <code>slurm_account</code> to <code>ApplyWorkflow</code> schemas (#1067).</li>
<li>Prevent providing a <code>package_version</code> for task collection from a <code>.whl</code> local package (#1069).</li>
<li>Add <code>DatasetRead.project</code> and <code>WorkflowRead.project</code> attributes (#1082).</li>
</ul>
</li>
<li>Database:<ul>
<li>Make <code>ApplyWorkflow.workflow_dump</code> column non-nullable (#1049).</li>
<li>Add <code>UserOAuth.slurm_accounts</code> and <code>ApplyWorkflow.slurm_account</code> columns (#1067).</li>
<li>Add script for adding <code>ApplyWorkflow.user_email</code> (#1058).</li>
<li>Add <code>Dataset.project</code> and <code>Workflow.project</code> relationships (#1082).</li>
<li>Avoid using <code>Project</code> relationships <code>dataset_list</code> or <code>workflow_list</code> within some <code>GET</code> endpoints (#1082).</li>
<li>Fully remove <code>Project</code> relationships <code>dataset_list</code>, <code>workflow_list</code> and <code>job_list</code> (#1091).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Only use ubuntu-22.04 in GitHub actions (#1061).</li>
<li>Improve unit testing of database models (#1082).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Pin <code>bcrypt</code> to 4.0.1 to avoid warning in passlib (#1060).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Set SLURM-job working directory to <code>job.working_dir_user</code> through <code>--chdir</code> option (#1064).</li>
</ul>
</li>
</ul>
<h1 id="140">1.4.0<a class="headerlink" href="#140" title="Permanent link">&para;</a></h1>
<ul>
<li>API:<ul>
<li>Major endpoint changes:<ul>
<li>Add trailing slash to <em>all</em> endpoints' paths (#1003).</li>
<li>Add new admin-area endpoints restricted to superusers at <code>/admin</code> (#947, #1009, #1032).</li>
<li>Add new <code>GET</code> endpoints <code>api/v1/job/</code> and <code>api/v1/project/{project_id}/workflow/{workflow_id}/job/</code> (#969, #1003).</li>
<li>Add new <code>GET</code> endpoints <code>api/v1/dataset/</code> and <code>api/v1/workflow/</code> (#988, #1003).</li>
<li>Add new <code>GET</code> endpoint <code>api/v1/project/{project_id}/dataset/</code> (#993).</li>
<li>Add <code>PATCH /admin/job/{job_id}/</code> endpoint (#1030, #1053).</li>
<li>Move <code>GET /auth/whoami/</code> to <code>GET /auth/current-user/</code> (#1013).</li>
<li>Move <code>PATCH /auth/users/me/</code> to <code>PATCH /auth/current-user/</code> (#1013, #1035).</li>
<li>Remove <code>DELETE /auth/users/{id}/</code> endpoint (#994).</li>
<li>Remove <code>GET /auth/users/me/</code> (#1013).</li>
<li>Remove <code>POST</code> <code>/auth/forgot-password/</code>, <code>/auth/reset-password/</code>, <code>/auth/request-verify-token/</code>, <code>/auth/verify/</code> (#1033).</li>
<li>Move <code>GET /auth/userlist/</code> to <code>GET /auth/users/</code> (#1033).</li>
</ul>
</li>
<li>New behaviors or responses of existing endpoints:<ul>
<li>Change response of <code>/api/v1/project/{project_id}/job/{job_id}/stop/</code> endpoint to 204 no-content (#967).</li>
<li>Remove <code>dataset_list</code> attribute from <code>ProjectRead</code>, which affects all <code>GET</code> endpoints that return some project (#993).</li>
<li>Make it possible to delete a <code>Dataset</code>, <code>Workflow</code> or <code>Project</code>, even when it is in relationship to an <code>ApplyWorkflow</code> - provided that the <code>ApplyWorkflow</code> is not pending or running (#927, #973).</li>
<li>Align <code>ApplyWorkflowRead</code> with new <code>ApplyWorkflow</code>, which has optional foreign keys <code>project_id</code>, <code>workflow_id</code>, <code>input_dataset_id</code>, and <code>output_dataset_id</code> (#984).</li>
<li>Define types for <code>ApplyWorkflowRead</code> "dump" attributes (#990). <strong>WARNING</strong>: reverted with #999.</li>
</ul>
</li>
<li>Internal changes:<ul>
<li>Move all routes definitions into <code>fractal_server/app/routes</code> (#976).</li>
<li>Fix construction of <code>ApplyWorkflow.workflow_dump</code>, within apply endpoint (#968).</li>
<li>Fix construction of <code>ApplyWorkflow</code> attributes <code>input_dataset_dump</code> and <code>output_dataset_dump</code>, within apply endpoint (#990).</li>
<li>Remove <code>asyncio.gather</code>, in view of SQLAlchemy2 update (#1004).</li>
</ul>
</li>
</ul>
</li>
<li>Database:<ul>
<li>Make foreign-keys of <code>ApplyWorkflow</code> (<code>project_id</code>, <code>workflow_id</code>, <code>input_dataset_id</code>, <code>output_dataset_id</code>) optional (#927).</li>
<li>Add columns <code>input_dataset_dump</code>, <code>output_dataset_dump</code> and <code>user_email</code> to <code>ApplyWorkflow</code> (#927).</li>
<li>Add relations <code>Dataset.list_jobs_input</code> and <code>Dataset.list_jobs_output</code> (#927).</li>
<li>Make <code>ApplyWorkflow.start_timestamp</code> non-nullable (#927).</li>
<li>Remove <code>"cascade": "all, delete-orphan"</code> from <code>Project.job_list</code> (#927).</li>
<li>Add <code>Workflow.job_list</code> relation (#927).</li>
<li>Do not use <code>Enum</code>s as column types (e.g. for <code>ApplyWorkflow.status</code>), but only for (de-)serialization (#974).</li>
<li>Set <code>pool_pre_ping</code> option to <code>True</code>, for asyncpg driver (#1037).</li>
<li>Add script for updating DB from 1.4.0 to 1.4.1 (#1010)</li>
<li>Fix missing try/except in sync session (#1020).</li>
</ul>
</li>
<li>App:<ul>
<li>Skip creation of first-superuser when one superuser already exists (#1006).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Update sqlalchemy to version <code>&gt;=2.0.23,&lt;2.1</code> (#1044).</li>
<li>Update sqlmodel to version 0.0.12 (#1044).</li>
<li>Upgrade asyncpg to version 0.29.0 (#1036).</li>
</ul>
</li>
<li>Runner:<ul>
<li>Refresh DB objects within <code>submit_workflow</code> (#927).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Add <code>await db_engine.dispose()</code> in <code>db_create_tables</code> fixture (#1047).</li>
<li>Set <code>debug=False</code> in <code>event_loop</code> fixture (#1044).</li>
<li>Improve <code>test_full_workflow.py</code> (#971).</li>
<li>Update <code>pytest-asyncio</code> to v0.21 (#1008).</li>
<li>Fix CI issue related to event loop and asyncpg (#1012).</li>
<li>Add GitHub Action testing database migrations (#1010).</li>
<li>Use greenlet v3 in <code>poetry.lock</code> (#1044).</li>
</ul>
</li>
<li>Documentation:<ul>
<li>Add OAuth2 example endpoints to Web API page (#1034, #1038).</li>
</ul>
</li>
<li>Development:<ul>
<li>Use poetry 1.7.1 (#1043).</li>
</ul>
</li>
</ul>
<h1 id="1314-do-not-use">1.3.14 (do not use!)<a class="headerlink" href="#1314-do-not-use" title="Permanent link">&para;</a></h1>
<blockquote>
<p><strong>WARNING</strong>: This version introduces a change that is then reverted in 1.4.0,
namely it sets the <code>ApplyWorkflow.status</code> type to <code>Enum</code>, when used with
PostgreSQL. It is recommended to <strong>not</strong> use it, and upgrade to 1.4.0
directly.</p>
</blockquote>
<ul>
<li>Make <code>Dataset.resource_list</code> an <code>ordering_list</code>, ordered by <code>Resource.id</code> (#951).</li>
<li>Expose <code>redirect_url</code> for OAuth clients (#953).</li>
<li>Expose JSON Schema for the <code>ManifestV1</code> Pydantic model (#942).</li>
<li>Improve delete-resource endpoint (#943).</li>
<li>Dependencies:<ul>
<li>Upgrade sqlmodel to 0.0.11 (#949).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Fix bug in local tests with Docker/SLURM (#948).</li>
</ul>
</li>
</ul>
<h1 id="1313">1.3.13<a class="headerlink" href="#1313" title="Permanent link">&para;</a></h1>
<ul>
<li>Configure sqlite WAL to avoid "database is locked" errors (#860).</li>
<li>Dependencies:<ul>
<li>Add <code>sqlalchemy[asyncio]</code> extra, and do not directly require <code>greenlet</code> (#895).</li>
<li>Fix <code>cloudpickle</code>-version definition in <code>pyproject.toml</code> (#937).</li>
<li>Remove obsolete <code>sqlalchemy_utils</code> dependency (#939).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Use ubuntu-22 for GitHub CI (#909).</li>
<li>Run GitHub CI both with SQLite and Postgres (#915).</li>
<li>Disable <code>postgres</code> service in GitHub action when running tests with SQLite (#931).</li>
<li>Make <code>test_commands.py</code> tests stateless, also when running with Postgres (#917).</li>
</ul>
</li>
<li>Documentation:<ul>
<li>Add information about minimal supported SQLite version (#916).</li>
</ul>
</li>
</ul>
<h1 id="1312">1.3.12<a class="headerlink" href="#1312" title="Permanent link">&para;</a></h1>
<ul>
<li>Project creation:<ul>
<li>Do not automatically create a dataset upon project creation (#897).</li>
<li>Remove <code>ProjectCreate.default_dataset_name</code> attribute (#897).</li>
</ul>
</li>
<li>Dataset history:<ul>
<li>Create a new (<strong>non-nullable</strong>) history column in <code>Dataset</code> table (#898, #901).</li>
<li>Deprecate history handling in <code>/project/{project_id}/job/{job_id}</code> endpoint (#898).</li>
<li>Deprecate <code>HISTORY_LEGACY</code> (#898).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Remove obsolete fixture <code>slurm_config</code> (#903).</li>
</ul>
</li>
</ul>
<h1 id="1311">1.3.11<a class="headerlink" href="#1311" title="Permanent link">&para;</a></h1>
<p>This is mainly a bugfix release for the <code>PermissionError</code> issue.</p>
<ul>
<li>Fix <code>PermissionError</code>s in parallel-task metadata aggregation for the SLURM backend (#893).</li>
<li>Documentation:<ul>
<li>Bump <code>mkdocs-render-swagger-plugin</code> to 0.1.0 (#889).</li>
</ul>
</li>
<li>Testing:<ul>
<li>Fix <code>poetry install</code> command and <code>poetry</code> version in GitHub CI (#889).</li>
</ul>
</li>
</ul>
<h1 id="1310">1.3.10<a class="headerlink" href="#1310" title="Permanent link">&para;</a></h1>
<p>Warning: updating to this version requires changes to the configuration variable</p>
<ul>
<li>Updates to SLURM interface:<ul>
<li>Remove <code>sudo</code>-requiring <code>ls</code> calls from <code>FractalFileWaitThread.check</code> (#885);</li>
<li>Change default of <code>FRACTAL_SLURM_POLL_INTERVAL</code> to 5 seconds (#885);</li>
<li>Rename <code>FRACTAL_SLURM_OUTPUT_FILE_GRACE_TIME</code> configuration variables into <code>FRACTAL_SLURM_ERROR_HANDLING_INTERVAL</code> (#885);</li>
<li>Remove <code>FRACTAL_SLURM_KILLWAIT_INTERVAL</code> variable and corresponding logic (#885);</li>
<li>Remove <code>_multiple_paths_exist_as_user</code> helper function (#885);</li>
<li>Review type hints and default values of SLURM-related configuration variables (#885).</li>
</ul>
</li>
<li>Dependencies:<ul>
<li>Update <code>fastapi</code> to version <code>^0.103.0</code> (#877);</li>
<li>Update <code>fastapi-users</code> to version <code>^12.1.0</code> (#877).</li>
</ul>
</li>
</ul>
<h1 id="139">1.3.9<a class="headerlink" href="#139" title="Permanent link">&para;</a></h1>
<ul>
<li>Make updated-metadata collection robust for metadiff files consisting of a single <code>null</code> value (#879).</li>
<li>Automate procedure for publishing package to PyPI (#881).</li>
</ul>
<h1 id="138">1.3.8<a class="headerlink" href="#138" title="Permanent link">&para;</a></h1>
<ul>
<li>Backend runner:<ul>
<li>Add aggregation logic for parallel-task updated metadata (#852);</li>
<li>Make updated-metadata collection robust for missing files (#852, #863).</li>
</ul>
</li>
<li>Database interface:</li>
<li>API:<ul>
<li>Prevent user from bypassing workflow-name constraint via the PATCH endpoint (#867).</li>
<li>Handle error upon task collection, when tasks exist in the database but not on-disk (#874).</li>
<li>Add <code>_check_project_exists</code> helper function (#872).</li>
</ul>
</li>
<li>Configuration variables:<ul>
<li>Remove <code>DEPLOYMENT_TYPE</code> variable and update <code>alive</code> endpoint (#875);</li>
<li>Introduce <code>Settings.check_db</code> method, and call it during inline/offline migrations (#855);</li>
<li>Introduce <code>Settings.check_runner</code> method (#875);</li>
<li>Fail if <code>FRACTAL_BACKEND_RUNNER</code> is <code>"local"</code> and <code>FRACTAL_LOCAL_CONFIG_FILE</code> is set but missing on-disk (#875);</li>
<li>Clean up <code>Settings.check</code> method and improve its coverage (#875);</li>
</ul>
</li>
<li>Package, repository, documentation:<ul>
<li>Change <code>fractal_server.common</code> from being a git-submodule to being a regular folder (#859).</li>
<li>Pin documentation dependencies (#865).</li>
<li>Split <code>app/models/project.py</code> into two modules for dataset and project (#871).</li>
<li>Revamp documentation on database interface and on the corresponding configuration variables (#855).</li>
</ul>
</li>
</ul>
<h1 id="137">1.3.7<a class="headerlink" href="#137" title="Permanent link">&para;</a></h1>
<ul>
<li>Oauth2-related updates (#822):<ul>
<li>Update configuration of OAuth2 clients, to support OIDC/GitHub/Google;</li>
<li>Merge <code>SQLModelBaseOAuthAccount</code> and <code>OAuthAccount</code> models;</li>
<li>Update <code>UserOAuth.oauth_accounts</code> relationship and fix <code>list_users</code> endpoint accordingly;</li>
<li>Introduce dummy <code>UserManager.on_after_login</code> method;</li>
<li>Rename <code>OAuthClient</code> into <code>OAuthClientConfig</code>;</li>
<li>Revamp users-related parts of documentation.</li>
</ul>
</li>
</ul>
<h1 id="136">1.3.6<a class="headerlink" href="#136" title="Permanent link">&para;</a></h1>
<ul>
<li>Update <code>output_dataset.meta</code> also when workflow execution fails (#843).</li>
<li>Improve error message for unknown errors in job execution (#843).</li>
<li>Fix log message incorrectly marked as "error" (#846).</li>
</ul>
<h1 id="135">1.3.5<a class="headerlink" href="#135" title="Permanent link">&para;</a></h1>
<ul>
<li>Review structure of dataset history (#803):<ul>
<li>Re-define structure for <code>history</code> property of <code>Dataset.meta</code>;</li>
<li>Introduce <code>"api/v1/project/{project_id}/dataset/{dataset_id}/status/"</code> endpoint;</li>
<li>Introduce <code>"api/v1/project/{project_id}/dataset/{dataset_id}/export_history/"</code> endpoint;</li>
<li>Move legacy history to <code>Dataset.meta["HISTORY_LEGACY"]</code>.</li>
</ul>
</li>
<li>Make <code>first_task_index</code> and <code>last_task_index</code> properties of <code>ApplyWorkflow</code> required (#803).</li>
<li>Add <code>docs_info</code> and <code>docs_link</code> to Task model (#814)</li>
<li>Accept <code>TaskUpdate.version=None</code> in task-patch endpoint (#818).</li>
<li>Store a copy of the <code>Workflow</code> into the optional column <code>ApplyWorkflow.workflow_dump</code> at the time of submission (#804, #834).</li>
<li>Prevent execution of multiple jobs with the same output dataset (#801).</li>
<li>Transform non-absolute <code>FRACTAL_TASKS_DIR</code> into absolute paths, relative to the current working directory (#825).</li>
<li>Error handling:<ul>
<li>Raise an appropriate error if a task command is not executable (#800).</li>
<li>Improve handling of errors raised in <code>get_slurm_config</code> (#800).</li>
</ul>
</li>
<li>Documentation:<ul>
<li>Clarify documentation about <code>SlurmConfig</code> (#798).</li>
<li>Update documentation configuration and GitHub actions (#811).</li>
</ul>
</li>
<li>Tests:<ul>
<li>Move <code>tests/test_common.py</code> into <code>fractal-common</code> repository (#808).</li>
<li>Switch to <code>docker compose</code> v2 and unpin <code>pyyaml</code> version (#816).</li>
</ul>
</li>
</ul>
<h1 id="134">1.3.4<a class="headerlink" href="#134" title="Permanent link">&para;</a></h1>
<ul>
<li>Support execution of a workflow subset (#784).</li>
<li>Fix internal server error for invalid <code>task_id</code> in <code>create_workflowtask</code> endpoint (#782).</li>
<li>Improve logging in background task collection (#776).</li>
<li>Handle failures in <code>submit_workflow</code> without raising errors (#787).</li>
<li>Simplify internal function for execution of a list of task (#780).</li>
<li>Exclude <code>common/tests</code> and other git-related files from build (#795).</li>
<li>Remove development dependencies <code>Pillow</code> and <code>pytest-mock</code> (#795).</li>
<li>Remove obsolete folders from <code>tests/data</code> folder (#795).</li>
</ul>
<h1 id="133">1.3.3<a class="headerlink" href="#133" title="Permanent link">&para;</a></h1>
<ul>
<li>Pin Pydantic to v1 (#779).</li>
</ul>
<h1 id="132">1.3.2<a class="headerlink" href="#132" title="Permanent link">&para;</a></h1>
<ul>
<li>Add sqlalchemy naming convention for DB constraints, and add <code>render_as_batch=True</code> to <code>do_run_migrations</code> (#757).</li>
<li>Fix bug in job-stop endpoint, due to missing default for <code>FractalSlurmExecutor.wait_thread.shutdown_file</code> (#768, #769).</li>
<li>Fix bug upon inserting a task with <code>meta=None</code> into a Workflow (#772).</li>
</ul>
<h1 id="131">1.3.1<a class="headerlink" href="#131" title="Permanent link">&para;</a></h1>
<ul>
<li>Fix return value of stop-job endpoint (#764).</li>
<li>Expose new GET <code>WorkflowTask</code> endpoint (#762).</li>
<li>Clean up API modules (#762):<ul>
<li>Split workflow/workflowtask modules;</li>
<li>Split tasks/task-collection modules.</li>
</ul>
</li>
</ul>
<h1 id="130">1.3.0<a class="headerlink" href="#130" title="Permanent link">&para;</a></h1>
<ul>
<li>Refactor user model:<ul>
<li>Switch from UUID4 to int for IDs (#660, #684).</li>
<li>Fix many-to-many relationship between users and project (#660).</li>
<li>Rename <code>Project.user_member_list</code> into <code>Project.user_list</code> (#660).</li>
<li>Add <code>username</code> column (#704).</li>
</ul>
</li>
<li>Update endpoints (see also <a href="../internals/version_upgrades/upgrade_1_2_5_to_1_3_0/">1.2-&gt;1.3 upgrade info</a> in the documentation):<ul>
<li>Review endpoint URLs (#669).</li>
<li>Remove foreign keys from payloads (#669).</li>
</ul>
</li>
<li>Update <code>Task</code> models, task collection and task-related endpoints:<ul>
<li>Add <code>version</code> and <code>owner</code> columns to <code>Task</code> model (#704).</li>
<li>Set <code>Task.version</code> during task collection (#719).</li>
<li>Set <code>Task.owner</code> as part of create-task endpoint (#704).</li>
<li>For custom tasks, prepend <code>owner</code> to user-provided <code>source</code> (#725).</li>
<li>Remove <code>default_args</code> from <code>Tasks</code> model and from manifest tasks (#707).</li>
<li>Add <code>args_schema</code> and <code>args_schema_version</code> to <code>Task</code> model (#707).</li>
<li>Expose <code>args_schema</code> and <code>args_schema_version</code> in task POST/PATCH endpoints (#749).</li>
<li>Make <code>Task.source</code> task-specific rather than package-specific (#719).</li>
<li>Make <code>Task.source</code> unique (#725).</li>
<li>Update <code>_TaskCollectPip</code> methods, attributes and properties (#719).</li>
<li>Remove private/public options for task collection (#704).</li>
<li>Improve error message for missing package manifest (#704).</li>
<li>Improve behavior when task-collection folder already exists (#704).</li>
<li>Expose <code>pinned_package_version</code> for tasks collection (#744).</li>
<li>Restrict Task editing to superusers and task owners (#733).</li>
<li>Implement <code>delete_task</code> endpoint (#745).</li>
</ul>
</li>
<li>Update <code>Workflow</code> and <code>WorkflowTask</code> endpoints:<ul>
<li>Always merge new <code>WorkflowTask.args</code> with defaults from <code>Task.args_schema</code>, in <code>update_workflowtask</code> endpoint (#759).</li>
<li>Remove <code>WorkflowTask.overridden_meta</code> property and on-the-fly overriding of <code>meta</code> (#752).</li>
<li>Add warning when exporting workflows which include custom tasks (#728).</li>
<li>When importing a workflow, only use tasks' <code>source</code> values, instead of <code>(source,name)</code> pairs (#719).</li>
</ul>
</li>
<li>Job execution:<ul>
<li>Add <code>FractalSlurmExecutor.shutdown</code> and corresponding endpoint (#631, #691, #696).</li>
<li>In <code>FractalSlurmExecutor</code>, make <code>working_dir*</code> attributes required (#679).</li>
<li>Remove <code>ApplyWorkflow.overwrite_input</code> column (#684, #694).</li>
<li>Make <code>output_dataset_id</code> a required argument of apply-workflow endpoint (#681).</li>
<li>Improve error message related to out-of-space disk (#699).</li>
<li>Include timestamp in job working directory, to avoid name clashes (#756).</li>
</ul>
</li>
<li>Other updates to endpoints and database:<ul>
<li>Add <code>ApplyWorkflow.end_timestamp</code> column (#687, #684).</li>
<li>Prevent deletion of a <code>Workflow</code>/<code>Dataset</code> in relationship with existing <code>ApplyWorkflow</code> (#703).</li>
<li>Add project-name uniqueness constraint in project-edit endpoint (#689).</li>
</ul>
</li>
<li>Other updates to internal logic:<ul>
<li>Drop <code>WorkflowTask.arguments</code> property and <code>WorkflowTask.assemble_args</code> method (#742).</li>
<li>Add test for collection of tasks packages with tasks in a subpackage (#743).</li>
<li>Expose <code>FRACTAL_CORS_ALLOW_ORIGIN</code> environment variable (#688).</li>
<li>Expose <code>FRACTAL_DEFAULT_ADMIN_USERNAME</code> environment variable (#751).</li>
</ul>
</li>
<li>Package and repository:<ul>
<li>Remove <code>fastapi-users-db-sqlmodel</code> dependency (#660).</li>
<li>Make coverage measure more accurate (#676) and improve coverage (#678).</li>
<li>Require pydantic version to be <code>&gt;=1.10.8</code> (#711, #713).</li>
<li>Include multiple <code>fractal-common</code> updates (#705, #719).</li>
<li>Add test equivalent to <code>alembic check</code> (#722).</li>
<li>Update <code>poetry.lock</code> to address security alerts (#723).</li>
<li>Remove <code>sqlmodel</code> from <code>fractal-common</code>, and declare database models with multiple inheritance (#710).</li>
<li>Make email generation more robust in <code>MockCurrentUser</code> (#730).</li>
<li>Update <code>poetry.lock</code> to <code>cryptography=41</code>, to address security alert (#739).</li>
<li>Add <code>greenlet</code> as a direct dependency (#748).</li>
<li>Removed tests for <code>IntegrityError</code> (#754).</li>
</ul>
</li>
</ul>
<h1 id="125">1.2.5<a class="headerlink" href="#125" title="Permanent link">&para;</a></h1>
<ul>
<li>Fix bug in task collection when using sqlite (#664, #673).</li>
<li>Fix bug in task collection from local package, where package extras were not considered (#671).</li>
<li>Improve error handling in workflow-apply endpoint (#665).</li>
<li>Fix a bug upon project removal in the presence of project-related jobs (#666). Note: this removes the <code>ApplyWorkflow.Project</code> attribute.</li>
</ul>
<h1 id="124">1.2.4<a class="headerlink" href="#124" title="Permanent link">&para;</a></h1>
<ul>
<li>Review setup for database URLs, especially to allow using UNIX-socket connections for postgresql (#657).</li>
</ul>
<h1 id="123">1.2.3<a class="headerlink" href="#123" title="Permanent link">&para;</a></h1>
<ul>
<li>Fix bug that was keeping multiple database conection open (#649).</li>
</ul>
<h1 id="122">1.2.2<a class="headerlink" href="#122" title="Permanent link">&para;</a></h1>
<ul>
<li>Fix bug related to <code>user_local_exports</code> in SLURM-backend configuration (#642).</li>
</ul>
<h1 id="121">1.2.1<a class="headerlink" href="#121" title="Permanent link">&para;</a></h1>
<ul>
<li>Fix bug upon creation of first user when using multiple workers (#632).</li>
<li>Allow both ports 5173 and 4173 as CORS origins (#637).</li>
</ul>
<h1 id="120">1.2.0<a class="headerlink" href="#120" title="Permanent link">&para;</a></h1>
<ul>
<li>Drop <code>project.project_dir</code> and replace it with <code>user.cache_dir</code> (#601).</li>
<li>Update SLURM backend (#582, #612, #614); this includes (1) combining several tasks in a single SLURM job, and (2) offering more granular sources for SLURM configuration options.</li>
<li>Expose local user exports in SLURM configuration file (#625).</li>
<li>Make local backend rely on custom <code>FractalThreadPoolExecutor</code>, where <code>parallel_tasks_per_job</code> can affect parallelism (#626).</li>
<li>Review logging configuration (#619, #623).</li>
<li>Update to fastapi <code>0.95</code> (#587).</li>
<li>Minor improvements in dataset-edit endpoint (#593) and tests (#589).</li>
<li>Include test of non-python task (#594).</li>
<li>Move dummy tasks from package to tests (#601).</li>
<li>Remove deprecated parsl backend (#607).</li>
<li>Improve error handling in workflow-import endpoint (#595).</li>
<li>Also show logs for successful workflow execution (#635).</li>
</ul>
<h1 id="111">1.1.1<a class="headerlink" href="#111" title="Permanent link">&para;</a></h1>
<ul>
<li>Include <code>reordered_workflowtask_ids</code> in workflow-edit endpoint payload, to reorder the task list of a workflow (#585).</li>
</ul>
<h1 id="110">1.1.0<a class="headerlink" href="#110" title="Permanent link">&para;</a></h1>
<ul>
<li>Align with new tasks interface in <code>fractal-tasks-core&gt;=0.8.0</code>, and remove <code>glob_pattern</code> column from <code>resource</code> database table (#544).</li>
<li>Drop python 3.8 support (#527).</li>
<li>Improve validation of API request payloads (#545).</li>
<li>Improve request validation in project-creation endpoint (#537).</li>
<li>Update the endpoint to patch a <code>Task</code> (#526).</li>
<li>Add new project-update endpoint, and relax constraints on <code>project_dir</code> in new-project endpoint (#563).</li>
<li>Update <code>DatasetUpdate</code> schema (#558 and #565).</li>
<li>Fix redundant task-error logs in slurm backend (#552).</li>
<li>Improve handling of task-collection errors (#559).</li>
<li>If <code>FRACTAL_BACKEND_RUNNER=slurm</code>, include some configuration checks at server startup (#529).</li>
<li>Fail if <code>FRACTAL_SLURM_WORKER_PYTHON</code> has different versions of <code>fractal-server</code> or <code>cloudpickle</code> (#533).</li>
</ul>
<h1 id="108">1.0.8<a class="headerlink" href="#108" title="Permanent link">&para;</a></h1>
<ul>
<li>Fix handling of parallel-tasks errors in <code>FractalSlurmExecutor</code> (#497).</li>
<li>Add test for custom tasks (#500).</li>
<li>Improve formatting of job logs (#503).</li>
<li>Improve error handling in workflow-execution server endpoint (#515).</li>
<li>Update <code>_TaskBase</code> schema from fractal-common (#517).</li>
</ul>
<h1 id="107">1.0.7<a class="headerlink" href="#107" title="Permanent link">&para;</a></h1>
<ul>
<li>Update endpoints to import/export a workflow (#495).</li>
</ul>
<h1 id="106">1.0.6<a class="headerlink" href="#106" title="Permanent link">&para;</a></h1>
<ul>
<li>Add new endpoints to import/export a workflow (#490).</li>
</ul>
<h1 id="105">1.0.5<a class="headerlink" href="#105" title="Permanent link">&para;</a></h1>
<ul>
<li>Separate workflow-execution folder into two (server- and user-owned) folders, to avoid permission issues (#475).</li>
<li>Explicitly pin sqlalchemy to v1 (#480).</li>
</ul>
<h1 id="104">1.0.4<a class="headerlink" href="#104" title="Permanent link">&para;</a></h1>
<ul>
<li>Add new POST endpoint to create new Task (#486).</li>
</ul>
<h1 id="103">1.0.3<a class="headerlink" href="#103" title="Permanent link">&para;</a></h1>
<p>Missing due to releasing error.</p>
<h1 id="102">1.0.2<a class="headerlink" href="#102" title="Permanent link">&para;</a></h1>
<ul>
<li>Add <code>FRACTAL_RUNNER_MAX_TASKS_PER_WORKFLOW</code> configuration variable (#469).</li>
</ul>
<h1 id="101">1.0.1<a class="headerlink" href="#101" title="Permanent link">&para;</a></h1>
<ul>
<li>Fix bug with environment variable names (#468).</li>
</ul>
<h1 id="100">1.0.0<a class="headerlink" href="#100" title="Permanent link">&para;</a></h1>
<ul>
<li>First release listed in CHANGELOG.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
       Copyright 2022
Friedrich Miescher Institute for Biomedical Research and
University of Zurich
(see <u><a href="https://github.com/fractal-analytics-platform/fractal-server/blob/main/LICENSE">
LICENSE
</a></u>).

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "toc.integrate", "navigation.top", "navigation.path", "content.code.annotate", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>